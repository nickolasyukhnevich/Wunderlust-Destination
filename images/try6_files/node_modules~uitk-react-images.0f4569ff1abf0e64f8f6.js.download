/*@license For license information please refer to node_modules~uitk-react-images.licenses.txt*/
(self.webpackChunkblossom_flex_ui=self.webpackChunkblossom_flex_ui||[]).push([[75931],{63268:function(){},44959:function(e,t,n){n.r(t),n.d(t,{UitkFigure:function(){return r.N},UitkFigureAspectRatioType:function(){return r.s},UitkImage:function(){return a.p},UitkImageFits:function(){return c.v},UitkImageLink:function(){return o.F},UitkQueuedImage:function(){return i.r},UitkRoundcorners:function(){return c.f},queue:function(){return s.c}});var r=n(51330),a=n(8470),i=n(96911),o=n(52175),s=n(96759),c=n(73949)},73949:function(e,t,n){n.d(t,{f:function(){return a},v:function(){return r}});var r=new Map([["cover","fit-cover"],["contain","fit-contain"]]),a=new Map([["all","all"],["max","max"],["startstart","startstart"],["startend","startend"],["endstart","endstart"],["endend","endend"]])},51330:function(e,t,n){n.d(t,{N:function(){return d},s:function(){return r}});var r,a=n(70655),i=n(67294),o=n(2009),s=n(73949),c=n(63268),u=n.n(c),l=o.classNames.bind(u());!function(e){e.R1_1="ratio-1-1",e.R4_3="ratio-4-3",e.R3_2="ratio-3-2",e.R16_9="ratio-16-9",e.R21_9="ratio-21-9",e.R3_4="ratio-3-4",e.R4_1="ratio-4-1"}(r||(r={}));var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.className,c=t.children,u=t.ratio,d=t.src,p=t.roundcorner,m=t.imageFit,f=t.additionalProps,h=t.style,g=d?"div":"figure",v=function(e,t,n){t.forEach((function(t){return e.push("".concat(n,"-").concat(s.f.get(t)))}))},y=l("uitk-image",n,p&&function(e){var t="uitk-image-roundcorner",n=typeof e,r=[],a=Array.isArray(e);if("boolean"===n)r.push("".concat(t,"-all"));else if(a)v(r,e,t);else{var i=e;Object.getOwnPropertyNames(i).forEach((function(e){var n="".concat(t,"-").concat(e);if(Array.isArray(i[e]))v(r,i[e],n);else{var a=i[e];Object.getOwnPropertyNames(a).forEach((function(e){"set"===a[e]?r.push("".concat(n,"-").concat(s.f.get(e))):"unset"===a[e]&&r.push("".concat(n,"-").concat(s.f.get(e),"-unset"))}))}}))}return r}(p),m&&"uitk-image-".concat(s.v.get(m)),((e={})["uitk-image-".concat(u," uitk-image-ratio")]=(0,o.validatePropType)(u,r),e["uitk-image-ratio-2-1 uitk-image-ratio"]=!u,e["uitk-image-background"]=d,e)),k={};h?k=h:d&&(k={backgroundImage:'url("'.concat(d,'")')});var I=(0,a.__assign)({className:y,style:k},f);return i.createElement(g,(0,a.__assign)({},I),c)},t.displayName="UitkFigure",t.AspectRatio=r,t}(i.Component)},52175:function(e,t,n){n.d(t,{F:function(){return c}});var r=n(67294),a=n(2009),i=n(63268),o=n.n(i),s=a.classNames.bind(o()),c=function(e){var t=e.children,n=r.Children.toArray(t).filter((function(e){return r.isValidElement(e)}));if(0===n.length)return null;var a=n[0],i=a.props.className,o=s("uitk-image-link",i);return r.cloneElement(a,{className:o},r.createElement("span",{className:"is-visually-hidden"},a.props.children))};c.displayName="UitkImageLink"},8470:function(e,t,n){n.d(t,{p:function(){return u}});var r=n(70655),a=n(67294),i=n(2009),o=n(63268),s=n.n(o),c=i.classNames.bind(s()),u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={hideImage:!1,hidePlaceholderImage:!1},n.handleError=n.handleError.bind(n),n.handleSuccess=n.handleSuccess.bind(n),n}return(0,r.__extends)(t,e),t.prototype.shouldComponentUpdate=function(e){var t=this.state.hideImage;return!e.src||!0!==t||(this.setState({hideImage:!1}),!1)},t.prototype.handleError=function(e){var t=this.props,n=t.blankDefault,r=t.placeholderImage,a=t.additionalProps;if(this.setState({hideImage:!!r||!!n}),a){var i=a;i.onError&&"function"==typeof i.onError&&i.onError(e)}},t.prototype.handleSuccess=function(e){var t=this.props.additionalProps;if((null==t?void 0:t["data-lazy"])||this.setState({hidePlaceholderImage:!0}),t){var n=t;n.onLoad&&"function"==typeof n.onLoad&&n.onLoad(e)}},t.prototype.render=function(){var e,t=this.props,n=t.blankDefault,i=t.className,o=t.placeholderImage,s=t.alt,u=t.src,l=t.imgRef,d=t.lazyLoading,p=t.additionalProps,m=this.state,f=m.hideImage,h=m.hidePlaceholderImage,g=c("uitk-image-media",i),v=c("uitk-image-placeholder",((e={})["uitk-image-placeholder-image"]=o&&!n&&!h,e)),y=Object.fromEntries(Object.entries(p||{}).map((function(e){var t=e[0],n=e[1];return[t.toLowerCase(),n]}))),k=(0,r.__assign)({className:g,ref:l,src:u},y);return a.createElement("div",{className:v},!f&&a.createElement("img",(0,r.__assign)({alt:s},k,{onError:this.handleError,onLoad:this.handleSuccess,loading:"off"===d?void 0:d})))},t.displayName="UitkImage",t.defaultProps={blankDefault:!1,src:""},t}(a.Component)},96911:function(e,t,n){n.d(t,{r:function(){return c}});var r=n(70655),a=n(67294),i=n(51330),o=n(8470),s=n(96759),c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={src:void 0},n.setImgRef=n.setImgRef.bind(n),n}return(0,r.__extends)(t,e),t.prototype.UNSAFE_componentWillMount=function(){var e=this.props,t=e.serverRender,n=e.src;t&&n&&this.setState({src:n})},t.prototype.componentDidMount=function(){var e=this.state,t=this.props,n=e.src,r=t.src;n||this.loadImage(r)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.src!==e.src&&this.loadImage(e.src)},t.prototype.componentDidUpdate=function(e){var t=this.props.src;t!==e.src&&this.loadImage(t)},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.src,n=e.groupId;s.c.dequeue(t,n)},t.prototype.setImgRef=function(e){this.imgRef=e},t.prototype.loadImage=function(e){var t=this,n=this.props.groupId;e&&e.length>0&&s.c.enqueue({callback:function(e){return t.imageDidLoad(e)},imageUrl:e,imgRef:this.imgRef,source:n})},t.prototype.imageDidLoad=function(e){var t=this.props,n=t.queuedImageFallbackCallback,r=t.src;e&&n?n(this):this.setState({src:r})},t.prototype.render=function(){var e=this.props,t=e.alt,n=e.children,s=e.className,c=e.useBackgroundImage,u=e.ratio;e.src;var l=e.serverRender,d=e.serverRenderCallback,p=e.loaded,m=(0,r.__rest)(e,["alt","children","className","useBackgroundImage","ratio","src","serverRender","serverRenderCallback","loaded"]),f=this.state.src,h=(0,r.__assign)({alt:t,"data-loaded":Boolean(f)},m);if(h.groupId&&delete h.groupId,c){var g=f?{backgroundImage:"url(".concat(f,")")}:{};return l&&d&&(g=d(g)),a.createElement(i.N,{className:s,style:g,ratio:u,additionalProps:h},n,!f&&p&&a.createElement(o.p,{placeholderImage:!0}))}return a.createElement(o.p,{imgRef:this.setImgRef,className:s,src:f,alt:t,additionalProps:h,placeholderImage:!f})},t.displayName="UitkQueuedImage",t.defaultProps={useBackgroundImage:!1},t}(a.Component)},96759:function(e,t,n){n.d(t,{c:function(){return a}});var r=function(){function e(e){void 0===e&&(e=100),this._size=0,this.data={},this.maxSize=e}return e.prototype.add=function(e){this.has(e)||(this.length>=this.maxSize&&this.removeFirst(),this.data[e]=!0,this._size+=1)},e.prototype.remove=function(e){this.data[e]&&(delete this.data[e],this._size-=1)},e.prototype.removeFirst=function(){for(var e in this.data)if(this.data.hasOwnProperty(e)){delete this.data[e],this._size-=1;break}},e.prototype.has=function(e){return Boolean(this.data[e])},Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),e}(),a=new(function(){function e(e){var t=(void 0===e?{maxConnections:3}:e).maxConnections;this.reset(),this.maxConnections=t}return e.prototype.reset=function(){this.queue=[],this.runners=[],this.completedUrls=new r(100)},e.prototype.enqueue=function(e){var t=e.source,n=e.imageUrl,r=e.imgRef,a=e.callback;this.queue.push({source:t,imageUrl:n,imgRef:r,callback:a}),this.runners.length<this.maxConnections&&this._loadImages()},e.prototype.dequeue=function(e,t){this.queue=this.queue.filter((function(n){return!(n.imageUrl===e&&(!t||n.source===t))}))},e.prototype.dequeueAll=function(e){this.queue=this.queue.filter((function(t){return t.source!==e}))},e.prototype._loadImages=function(){var e=this;this.queue.splice(0,this.maxConnections-this.runners.length).forEach((function(t){e._downloadImage(t)}))},e.prototype._downloadImage=function(e){var t=this,n=e.imgRef||new Image,r=function(n){return function(){var r=t.runners.findIndex((function(t){return t.imageUrl===e.imageUrl&&(!e.source||t.source===e.source)}));r>=0&&t.runners.splice(r,1),Promise.resolve().then((function(){return t._loadImages()})),t.completedUrls.add(e.imageUrl),e.callback&&e.callback(n)}};this.completedUrls.has(e.imageUrl)?r()():(n.onerror=r(new Error("Error loading image URL: ".concat(e.imageUrl))),n.onload=r(),n.src=e.imageUrl,e.imgRef=n,this.runners.push(e))},e}())({maxConnections:4})}}]);
//# sourceMappingURL=node_modules~uitk-react-images.0f4569ff1abf0e64f8f6.js.map