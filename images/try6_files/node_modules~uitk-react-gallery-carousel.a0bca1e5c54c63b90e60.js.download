/*@license For license information please refer to node_modules~uitk-react-gallery-carousel.licenses.txt*/
(self.webpackChunkblossom_flex_ui=self.webpackChunkblossom_flex_ui||[]).push([[3773],{49575:function(){},58641:function(t,e,a){a.r(e),a.d(e,{UitkGalleryCarousel:function(){return n.s},UitkGalleryCarouselItem:function(){return i.g},UitkGalleryCarouselLocalAnalyticsIdType:function(){return n.O},UitkGalleryCarouselNavdots:function(){return d}});var n=a(34949),i=a(83835),r=a(70655),l=a(67294),o=a(2009),s=a(49575),c=a.n(s),u=o.classNames.bind(c()),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.getdotStyles=function(t,e,a){var n=["dot-zero","dot-small","dot-medium","dot-current"],i=this.props.imagesLength,r=i>=5,l=t;r&&l>=2&&l<e-2?l=2:r&&l===e-2?l=3:r&&l===e-1&&(l=4);var o={5:["03221","02321","12321","12320","12230"],4:["3221","2321","1232","1223"],3:["322","232","223"],2:["32","23"]}[r?5:i][l].split("");return"left"===a?o.unshift("0","0"):"right"===a?o.push("0","0"):r&&(o.push("0"),o.unshift("0")),o.map((function(t){return n[t]}))},e.prototype.getDotList=function(t,e,a){var n=[];e>1&&(n=this.getdotStyles(t,e,a).map((function(t,e){return l.createElement("div",{key:e,className:u("uitk-gallery-carousel-dot-wrap")},l.createElement("div",{className:u("uitk-gallery-carousel-dot",t)}))})));return n},e.prototype.render=function(){var t=this.props,e=t.animation,a=t.currentIndex,n=t.imagesLength;if(n<=1)return null;var i=e,r=this.getDotList(a,n);return e&&""!==e&&("uitk-gallery-carousel-next"===e&&(r=this.getDotList(a+1,n)),"uitk-gallery-carousel-prev"===e&&(r=this.getDotList(a-1,n)),"uitk-gallery-carousel-next"===e&&a>=1&&a<n-2&&n>=5&&(i+=" uitk-gallery-carousel-midpoint",r=this.getDotList(a+1,n,"left")),"uitk-gallery-carousel-prev"===e&&a>1&&a<=n-2&&n>=5&&(i+=" uitk-gallery-carousel-midpoint",r=this.getDotList(a-1,n,"right"))),l.createElement("div",{className:u("uitk-gallery-carousel-navi-dots",i)},r)},e.displayName="UitkGalleryCarouselNavdots",e}(l.PureComponent)},83835:function(t,e,a){a.d(e,{g:function(){return h}});var n=a(70655),i=a(67294),r=a(8470),l=a(96911),o=a(51330),s=a(52175),c=a(2009),u=a(96116),d=a(41894),g=a(49575),m=a.n(g),p=c.classNames.bind(m()),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,n.__extends)(e,t),e.prototype.render=function(){var t,e=this.props,a=e.ariaHidden,n=e.className,c=e.alt,g=e.src,m=e.ratio,h=e.enablePreload,y=e.onClick,f=e.videoAnalytics,k=e.videoButtonText,v=e.placeholderImage,b=e.triggerA11yText,x=e.fetchPriority,I=e.triggerRef,C=p("uitk-gallery-carousel-item",n),T=p(n);return t=T&&T.includes("uitk-gallery-carousel-item-current")?(0,u.XH)(g)?i.createElement(d.n,{alt:c,analytics:f,src:g,buttonText:k}):i.createElement(r.p,{alt:c,src:h?g:"",placeholderImage:v,additionalProps:{fetchPriority:x}}):i.createElement(l.r,{alt:c,src:h?g:""}),i.createElement("div",{className:C,"aria-hidden":a},i.createElement(o.N,{imageFit:"cover",ratio:m},t,y&&!(0,u.XH)(g)&&i.createElement(s.F,null,i.createElement("button",{type:"button",onClick:y,"data-testid":"uitk-gallery-item-current-trigger","aria-label":b,ref:I},c))))},e.displayName="UitkGalleryCarouselItem",e.defaultProps={ariaHidden:!1},e}(i.PureComponent)},34949:function(t,e,a){a.d(e,{O:function(){return n},s:function(){return C}});var n,i=a(70655),r=a(29892),l=a(67294),o=a(45338),s=a(2009),c=a(56095),u=a(65160),d=a(26044),g=a(13413),m=a(46605),p=a(51330),h=a(24499),y=a(97534),f=a(83835),k=a(49575),v=a.n(k),b=s.classNames.bind(v()),x=new Map([["h1","h1"],["h2","h2"],["h3","h3"],["h4","h4"],["h5","h5"],["h6","h6"]]);!function(t){t.clickLeft="clickLeft",t.clickRight="clickRight"}(n||(n={}));var I=function(t){function e(e){var a=t.call(this,e)||this;return a.nextprevCallbackTimer=250,a.state={currentIndex:e.currentIndex||0,enablePreload:Boolean(e.enablePreload),isInteractive:!1},a.onImageClickCallback=a.onImageClickCallback.bind(a),a.onNextCallback=a.onNextCallback.bind(a),a.onPrevCallback=a.onPrevCallback.bind(a),a.onUpdateCallback=a.onUpdateCallback.bind(a),a.onMediaButtonCallback=a.onMediaButtonCallback.bind(a),a.onVirtualTourCallback=a.onVirtualTourCallback.bind(a),a.getBackwardIndex=a.getBackwardIndex.bind(a),a.getForwardIndex=a.getForwardIndex.bind(a),a.onSwiping=a.onSwiping.bind(a),a}return(0,i.__extends)(e,t),e.prototype.componentDidMount=function(){this.setState({isAnimating:!1,isInteractive:!0})},e.prototype.UNSAFE_componentWillReceiveProps=function(t){var e=t.currentIndex;e!==this.state.currentIndex&&this.setState({currentIndex:e})},e.prototype.shouldComponentUpdate=function(t,e){var a=this.props,n=a.currentIndex,i=a.images,r=this.state.isAnimating,l=t.images,o=i&&i.length,s=l&&l.length;return o!==s||(r!==e.isAnimating||(n!==t.currentIndex||o>0&&s>0&&i[0].src!==l[0].src))},e.prototype.onPrevCallback=function(){var t=this,e=this.state.isAnimating,a=this.props.images;if(!e){var n=this.currentIndex-1,i=a.length;n<0&&(n=i-1),this.setState({enablePreload:!0,isAnimating:!0,isAnimatingNext:!1,isAnimatingPrev:!0,isInteractive:!1}),this._animationTimer&&clearInterval(this._animationTimer),this._animationTimer=setTimeout((function(){t.announce(n),t.onUpdateCallback(n)}),this.nextprevCallbackTimer)}},e.prototype.onNextCallback=function(){var t=this,e=this.state.isAnimating,a=this.props.images;if(!e){var n=this.currentIndex+1,i=a.length;n+1>i&&(n=0),this.setState({enablePreload:!0,isAnimating:!0,isAnimatingNext:!0,isAnimatingPrev:!1,isInteractive:!1}),this._animationTimer&&clearInterval(this._animationTimer),this._animationTimer=setTimeout((function(){t.announce(n),t.onUpdateCallback(n)}),this.nextprevCallbackTimer)}},e.prototype.onUpdateCallback=function(t){var e=this.props.onIndexChange;"function"==typeof e&&e(t)},e.prototype.onImageClickCallback=function(){var t=this.props.onImageClick;"function"==typeof t&&t()},e.prototype.onMediaButtonCallback=function(){var t=this.props.onMediaButtonClick;"function"==typeof t&&t(this.currentIndex+1)},e.prototype.onVirtualTourCallback=function(){var t=this.props.onVirtualTourClick;"function"==typeof t&&t()},e.prototype.onSwiping=function(t){var e=this.props.images,a=this.state.isInteractive,n=e.length,i=a&&e&&n>1;i&&"Left"===t.dir&&this.onNextCallback(),i&&"Right"===t.dir&&this.onPrevCallback()},e.prototype.getBackwardIndex=function(t){var e=this.props.images;if(e&&e.length>0&&t>0){if(1===e.length)return 0;var a=this.currentIndex-t;return a>=0?a:0===Math.abs(a%e.length)?0:Math.abs(e.length-Math.abs(a%e.length))}return 0},e.prototype.getForwardIndex=function(t){var e=this.props.images;if(e&&e.length>0&&t>0){var a=this.currentIndex+t;return Math.abs(a%e.length)}return this.currentIndex},Object.defineProperty(e.prototype,"currentIndex",{get:function(){return this.state.currentIndex},set:function(t){this.setState({currentIndex:t})},enumerable:!1,configurable:!0}),e.prototype.stopTransitionPropagation=function(t){t.stopPropagation()},e.prototype.announce=function(t){var e,a=this.props,n=a.images,i=a.l10n,r=this.state.currentIndex;e=void 0!==n[t].caption?n[t].caption:void 0===n[t].alt?"":n[t].alt,this.setState({currentIndex:t,isAnimating:!1,isAnimatingNext:!1,isAnimatingPrev:!1,isInteractive:!0},(function(){return(0,s.liveAnnounce)(i.formatText("gallerycarousel.imageChange",r+1,n.length,e),s.Level.POLITE)}))},e.prototype.makeValidTag=function(t){return"number"==typeof t?t<1||t>6||!Number.isInteger(t)?"h3":"h".concat(t):t},e.prototype.render=function(){var t,e=this.props,a=e.allyHeadingLevel,r=e.allyHeadingText,s=e.analytics,g=e.buttonText,p=e.carouselName,k=e.carouselId,v=void 0===k?"carousel-navigation-id":k,I=e.listingName,C=e.className,T=e.images,N=e.l10n,_=e.showGalleryButton,E=e.galleryButtonRef,P=e.showScrim,A=e.showVirtualTourButton,B=e.virtualTourButtonRef,w=e.imageTriggerRef,R=e.navTheme,L=e.ratio,S=e.videoAnalytics,G=e.showCaption,M=e.videoButtonText,U=e.placeholderImage,H=e.triggerA11yText,V=e.fetchPriority,D=this.state,F=D.currentIndex,O=D.isAnimating,z=D.isAnimatingNext,X=D.isAnimatingPrev,j=D.enablePreload,q="",Q=b("uitk-gallery-carousel",C),W=T.length,J=a?x.get(this.makeValidTag(a)):x.get("h3");O&&(X?q="uitk-gallery-carousel-prev":z&&(q="uitk-gallery-carousel-next"));var K=s&&(0,i.__assign)({localAnalyticsId:"".concat(p,".GalleryCarousel.").concat(n.clickLeft,".").concat(F)},s),Y=s&&(0,i.__assign)({localAnalyticsId:"".concat(p,".GalleryCarousel.").concat(n.clickRight,".").concat(F)},s),Z=s&&(0,i.__assign)({localAnalyticsId:"".concat(p,".MediaGalleryTrigger")},s),$=l.createElement("div",{className:b("uitk-gallery-carousel-footer")},G&&l.createElement("div",{className:b("uitk-gallery-carousel-footer-media-caption")},T[F].caption),l.createElement("div",{className:b("uitk-action-buttons")},A&&l.createElement(c.n,{className:b("uitk-virtual-tour-button"),analytics:Z,onClick:this.onVirtualTourCallback,domRef:B},l.createElement(m.fR,{name:"tour_360",title:null==g?void 0:g.virtualTourButton,id:"tour_360-".concat(v)}),l.createElement("span",{"aria-hidden":"true"},null==g?void 0:g.virtualTourButton)),_&&l.createElement(c.n,{className:b("uitk-gallery-button"),analytics:Z,onClick:this.onMediaButtonCallback,domRef:E},l.createElement(m.fR,{name:"photo_library",title:null!==(t=null==g?void 0:g.galleryButton)&&void 0!==t?t:I?N.formatText("gallerycarousel.mediaGalleryButton.withName",W,I):N.formatText("gallerycarousel.mediaGalleryButton",W),id:"photo_library-".concat(v)}),l.createElement("span",{"aria-hidden":"true"},String(W)))));return T&&W>0&&l.createElement("div",{className:Q,onTransitionEnd:this.stopTransitionPropagation},l.createElement(J,{className:b("is-visually-hidden")},r),l.createElement(o.mp,{className:b("uitk-gallery-carousel-items",q,L),onSwiping:this.onSwiping,delta:70},l.createElement(f.g,(0,i.__assign)({},T[this.getBackwardIndex(1)],{ariaHidden:!0,className:b("uitk-gallery-carousel-item-prev"),ratio:L,enablePreload:j,key:"".concat(v).concat(this.currentIndex-1),triggerRef:w})),l.createElement(f.g,(0,i.__assign)({},T[this.currentIndex],{className:b("uitk-gallery-carousel-item-current"),ratio:L,enablePreload:!0,onClick:this.onImageClickCallback,videoAnalytics:S,videoButtonText:M,placeholderImage:U,triggerA11yText:H,key:"".concat(v).concat(this.currentIndex),fetchPriority:V,triggerRef:w})),l.createElement(f.g,(0,i.__assign)({},T[this.getForwardIndex(1)],{ariaHidden:!0,className:b("uitk-gallery-carousel-item-next"),ratio:L,enablePreload:j,key:"".concat(v).concat(this.currentIndex+1),triggerRef:w})),l.createElement(f.g,(0,i.__assign)({},T[this.getForwardIndex(2)],{ariaHidden:!0,className:b("uitk-gallery-carousel-item-queued"),ratio:L,enablePreload:j,triggerRef:w}))),W>1&&l.createElement("div",{className:b("uitk-gallery-carousel-paging-controls")},l.createElement(u.S,{className:b("uitk-gallery-carousel-button-prev"),iconId:"prev-button-".concat(v),iconTitle:(null==g?void 0:g.prevButton)?g.prevButton:N.formatText("gallerycarousel.previousImage"),onClick:this.onPrevCallback,analytics:K,theme:R}),l.createElement(d.Q,{className:b("uitk-gallery-carousel-button-next"),iconId:"next-button-".concat(v),iconTitle:(null==g?void 0:g.nextButton)?g.nextButton:N.formatText("gallerycarousel.nextImage"),onClick:this.onNextCallback,analytics:Y,theme:R})),P&&l.createElement(h.o,{className:b("uitk-gallery-carousel-scrim"),tag:"div",type:y.k.BOTTOM},(G||_||A)&&$),!P&&(G||_||A)&&l.createElement("div",{className:b("uitk-gallery-carousel-box")},$))},e.defaultProps={currentIndex:0,enablePreload:!0,navTheme:g.NR.SOLID,ratio:p.s.R16_9,showGalleryButton:!0,showVirtualTourButton:!1},e}(l.Component),C=function(t){var e=(0,r.useLocalization)();return l.createElement(I,(0,i.__assign)({l10n:e},t))}}}]);
//# sourceMappingURL=node_modules~uitk-react-gallery-carousel.a0bca1e5c54c63b90e60.js.map