/*@license For license information please refer to shared-ui-retail-customer-direct-feedback.licenses.txt*/
(self.webpackChunkblossom_flex_ui=self.webpackChunkblossom_flex_ui||[]).push([[4102],{90009:function(e,n,t){t.d(n,{IS:function(){return St}});var a=t(67294),r=t(98250),i=t(73030),o=t(29892),c=t(19633),l=t(41913),u=t(34353),d=t(49349),m=t(79221),s=t(69430),f=t(71646),p=t(92787),g=t(95878),v=t(39711),b=t(85213),E=t(29097),k=t(23984),y=t(91233),h=t(52818),D=t(77844),S=t(93351),F=t(5419),I=t(87862),x=t(27764),P=t(58153),C=t(46605),G=t(30300),_=t(10333),T=t(68369),N=t(35062),L=t(47660),w=t(5868),A=t(66547),O=t(66020),R=t(45638),B=t(80398),M=t(70094),V=t(53274),U=t(51330),j=t(8470),q=t(52175),H=t(8315);function z(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Q(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function J(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function W(e){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},W(e)}function X(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){J(e,n,t[n])}))}return e}function Y(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function Z(e,n){return Z=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},Z(e,n)}function ee(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,r,i=[],o=!0,c=!1;try{for(t=t.call(e);!(o=(a=t.next()).done)&&(i.push(a.value),!n||i.length!==n);o=!0);}catch(l){c=!0,r=l}finally{try{o||null==t.return||t.return()}finally{if(c)throw r}}return i}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return z(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return z(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function te(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function ae(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,a=W(e);if(n){var r=W(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return function(e,n){return!n||"object"!==te(n)&&"function"!=typeof n?$(e):n}(this,t)}}function re(){var e=ne(["\n  fragment EGDSIconFragment on Icon {\n    __typename\n    description\n    id\n    size\n    theme\n    title\n    withBackground\n  }\n"]);return re=function(){return e},e}function ie(){var e=ne(["\n  fragment EGDSIconTextFragment on EGDSIconText {\n    icon {\n      ...EGDSIconFragment\n    }\n    text\n  }\n\n  ","\n"]);return ie=function(){return e},e}function oe(){var e=ne(["\n  fragment EGDSInlineLinkFragment on EGDSInlineLink {\n    uiLinkAction: action {\n      accessibility\n      analytics {\n        linkName\n        referrerId\n      }\n      resource {\n        value\n      }\n      target\n    }\n    disabled\n    size\n    text\n  }\n"]);return oe=function(){return e},e}function ce(){var e=ne(["\n  fragment EGDSPlainTextFragment on EGDSPlainText {\n    __typename\n    text\n  }\n"]);return ce=function(){return e},e}function le(){var e=ne(["\n  fragment EGDSStandardLinkFragment on EGDSStandardLink {\n    uiLinkAction: action {\n      accessibility\n      analytics {\n        linkName\n        referrerId\n      }\n      resource {\n        value\n      }\n      target\n    }\n    disabled\n    standardLinkIcon: icon {\n      ...EGDSIconFragment\n    }\n    iconPosition\n    size\n    text\n  }\n\n  ","\n"]);return le=function(){return e},e}function ue(){var e=ne(["\n  fragment EGDSTextFragment on EGDSText {\n    __typename\n    text\n    ...EGDSPlainTextFragment\n    ...EGDSInlineLinkFragment\n    ...EGDSStandardLinkFragment\n    ...EGDSIconTextFragment\n  }\n\n  ","\n  ","\n  ","\n  ","\n"]);return ue=function(){return e},e}function de(){var e=ne(["\n  fragment EGDSSpannableTextFragment on EGDSSpannableText {\n    __typename\n    text\n    egdsElementId\n    contents {\n      ...EGDSTextFragment\n    }\n  }\n\n  ","\n"]);return de=function(){return e},e}function me(){var e=ne(["\n  fragment DirectFeedbackTextListFragment on DirectFeedbackTextList {\n    __typename\n    bullet\n    listItems {\n      egdsElementId\n      icon {\n        ...EGDSIconFragment\n      }\n      text {\n        ...EGDSSpannableTextFragment\n      }\n      style\n    }\n  }\n\n  ","\n  ","\n"]);return me=function(){return e},e}function se(){var e=ne(["\n  fragment EGDSErrorSummaryFragment on EGDSErrorSummary {\n    __typename\n    heading\n    body {\n      text\n    }\n  }\n"]);return se=function(){return e},e}function fe(){var e=ne(["\n  fragment EGDSHeadingFragment on EGDSHeading {\n    __typename\n    text\n    headingType\n  }\n"]);return fe=function(){return e},e}function pe(){var e=ne(["\n  fragment DirectFeedbackDisplayElementFragment on DirectFeedbackFormDisplayElement {\n    __typename\n    ...EGDSErrorSummaryFragment\n    ...EGDSPlainTextFragment\n    ...EGDSHeadingFragment\n    ...EGDSSpannableTextFragment\n    ...DirectFeedbackTextListFragment\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return pe=function(){return e},e}function ge(){var e=ne(["\n  fragment EGDSMaxLengthInputValidationFragment on EGDSMaxLengthInputValidation {\n    errorMessage\n    maxLength\n  }\n"]);return ge=function(){return e},e}function ve(){var e=ne(["\n  fragment EGDSMinLengthInputValidationFragment on EGDSMinLengthInputValidation {\n    errorMessage\n    minLength\n  }\n"]);return ve=function(){return e},e}function be(){var e=ne(["\n  fragment EGDSRegexInputValidationFragment on EGDSRegexInputValidation {\n    errorMessage\n    pattern\n  }\n"]);return be=function(){return e},e}function Ee(){var e=ne(["\n  fragment EGDSRequiredInputValidationFragment on EGDSRequiredInputValidation {\n    errorMessage\n  }\n"]);return Ee=function(){return e},e}function ke(){var e=ne(["\n  fragment EGDSInputValidationFragment on EGDSInputValidation {\n    ...EGDSRegexInputValidationFragment\n    ...EGDSMaxLengthInputValidationFragment\n    ...EGDSMinLengthInputValidationFragment\n    ...EGDSRequiredInputValidationFragment\n  }\n\n  ","\n  ","\n  ","\n  ","\n"]);return ke=function(){return e},e}function ye(){var e=ne(["\n  fragment DirectFeedbackInputFieldFragment on DirectFeedbackInputField {\n    __typename\n    label\n    value\n    name\n    placeholder\n    validations {\n      ...EGDSInputValidationFragment\n    }\n    instructions\n    leftIcon {\n      ...EGDSIconFragment\n    }\n    rightIcon {\n      ...EGDSIconFragment\n    }\n    required\n  }\n  ","\n  ","\n"]);return ye=function(){return e},e}function he(){var e=ne(["\n  fragment EGDSBasicPillFragment on EGDSBasicPill {\n    __typename\n    accessibility\n    disabled\n    id\n    name\n    primary\n    selected\n    value\n  }\n"]);return he=function(){return e},e}function De(){var e=ne(["\n  fragment EGDSCheckBoxFragment on EGDSCheckBox {\n    __typename\n    description\n    enabled\n    errorMessage\n    label {\n      text\n    }\n    name\n    required\n    state\n  }\n"]);return De=function(){return e},e}function Se(){var e=ne(["\n  fragment DirectFeedbackMultiSelectGroupFragment on DirectFeedbackMultiSelectGroup {\n    __typename\n    errorMessage\n    groupName\n    multiSelectOptions: options {\n      ...EGDSCheckBoxFragment\n    }\n    multiSelectPillOptions: pillOptions {\n      ...EGDSBasicPillFragment\n    }\n    selected\n    required\n    legend\n    style\n  }\n  ","\n  ","\n"]);return Se=function(){return e},e}function Fe(){var e=ne(["\n  fragment DirectFeedbackRadioGroupFragment on DirectFeedbackRadioGroup {\n    __typename\n    errorMessage\n    groupName\n    radioGroupOptions: options {\n      description\n      disabled\n      label\n      labelSuffix\n      value\n    }\n    selected\n    required\n    legend\n  }\n"]);return Fe=function(){return e},e}function Ie(){var e=ne(["\n  fragment DirectFeedbackTextAreaFragment on DirectFeedbackTextArea {\n    __typename\n    label\n    value\n    name\n    placeholder\n    required\n    isEditable\n    minRows\n    maxRows\n    validations {\n      ...EGDSInputValidationFragment\n    }\n    instructions\n    leftIcon {\n      ...EGDSIconFragment\n    }\n    rightIcon {\n      ...EGDSIconFragment\n    }\n  }\n\n  ","\n  ","\n"]);return Ie=function(){return e},e}function xe(){var e=ne(["\n  fragment DirectFeedbackElementFragment on DirectFeedbackFormPageElement {\n    __typename\n    ...EGDSErrorSummaryFragment\n    ...EGDSPlainTextFragment\n    ...EGDSHeadingFragment\n    ...DirectFeedbackMultiSelectGroupFragment\n    ...EGDSSpannableTextFragment\n    ...DirectFeedbackRadioGroupFragment\n    ...DirectFeedbackInputFieldFragment\n    ...DirectFeedbackTextAreaFragment\n    ...DirectFeedbackTextListFragment\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return xe=function(){return e},e}function Pe(){var e=ne(["\n  fragment EGDSButtonFragment on EGDSButton {\n    __typename\n    accessibility\n    analytics {\n      __typename\n      referrerId\n      linkName\n    }\n    action {\n      ...UIActionFragment\n    }\n    disabled\n    icon {\n      ...EGDSIconFragment\n    }\n    primary\n  }\n\n  fragment UIActionFragment on UIAction {\n    __typename\n    analytics {\n      __typename\n      referrerId\n      linkName\n    }\n    accessibility\n  }\n"]);return Pe=function(){return e},e}function Ce(){var e=ne(["\n  fragment UIPrimaryButtonFragment on UIPrimaryButton {\n    ...EGDSButtonFragment\n  }\n\n  ","\n"]);return Ce=function(){return e},e}function Ge(){var e=ne(["\n  fragment UISecondaryButtonFragment on UISecondaryButton {\n    ...EGDSButtonFragment\n  }\n\n  ","\n"]);return Ge=function(){return e},e}function _e(){var e=ne(["\n  fragment DirectFeedbackPageFragment on DirectFeedbackFormPage {\n    title\n    subtitle {\n      ...EGDSTextFragment\n    }\n    id\n    commands {\n      action {\n        ...DirectFeedbackOpenNextPageActionFragment\n\n        ...DirectFeedbackOpenPreviousPageActionFragment\n\n        ...DirectFeedbackSubmitFormActionFragment\n      }\n\n      ...EGDSButtonFragment\n    }\n    commandOrientation\n    displayConditions {\n      fieldId\n      expectedValue\n      conditionType\n    }\n    elements {\n      __typename\n      ...DirectFeedbackElementFragment\n    }\n    footer {\n      __typename\n      ...DirectFeedbackDisplayElementFragment\n    }\n  }\n\n  fragment DirectFeedbackOpenNextPageActionFragment on DirectFeedbackOpenNextPageAction {\n    __typename\n    destinationId\n  }\n\n  fragment DirectFeedbackOpenPreviousPageActionFragment on DirectFeedbackOpenPreviousPageAction {\n    __typename\n    analytics {\n      linkName\n    }\n  }\n\n  fragment DirectFeedbackSubmitFormActionFragment on DirectFeedbackSubmitFormAction {\n    __typename\n    analytics {\n      linkName\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n"]);return _e=function(){return e},e}function Te(){var e=ne(["\n  fragment DirectFeedbackPagesFragment on DirectFeedbackPrompt {\n    pages {\n      ...DirectFeedbackPageFragment\n    }\n  }\n\n  ","\n"]);return Te=function(){return e},e}function Ne(){var e=ne(["\n  query DirectFeedbackQuery($context: ContextInput!, $promptId: ID!) {\n    directFeedbackPromptById(context: $context, id: $promptId) {\n      ...DirectFeedbackPromptByIdFragment\n    }\n  }\n\n  fragment DirectFeedbackPromptByIdFragment on DirectFeedbackPrompt {\n    title\n    challenges {\n      action {\n        ... on ArkoseChallenge {\n          apiKey\n          src\n        }\n      }\n    }\n    ...DirectFeedbackPagesFragment\n  }\n\n  ","\n"]);return Ne=function(){return e},e}function Le(){var e=ne(["\n  mutation DirectFeedbackSubmit($context: ContextInput!, $id: ID!, $feedback: DirectFeedbackValuesInput!) {\n    directFeedbackSubmit(context: $context, id: $id, feedback: $feedback) {\n      errors {\n        ...DirectFeedbackSubmitErrorFragment\n      }\n      serviceError {\n        ...EGDSErrorSummaryFragment\n      }\n    }\n  }\n\n  fragment DirectFeedbackSubmitErrorFragment on DirectFeedbackFieldError {\n    fieldId\n    error\n  }\n\n  ","\n"]);return Le=function(){return e},e}function we(){var e=ne(["\n  fragment EGDSImageLinkFragment on EGDSImageLink {\n    uiLinkAction: action {\n      accessibility\n      analytics {\n        linkName\n        referrerId\n      }\n      resource {\n        value\n      }\n      target\n    }\n    image {\n      altText\n      aspectRatio\n      description\n      thumbnailClickAnalytics {\n        linkName\n        referrerId\n      }\n      url\n    }\n  }\n"]);return we=function(){return e},e}function Ae(){var e=ne(["\n  fragment UITertiaryButtonFragment on UITertiaryButton {\n    ...EGDSButtonFragment\n  }\n\n  ","\n"]);return Ae=function(){return e},e}function Oe(){var e=ne(["\n  fragment DirectFeedbackCallToActionFragment on DirectFeedbackCallToAction {\n    promptId\n    eager\n    callToAction {\n      __typename\n      ...UIPrimaryButtonFragment\n      ...UISecondaryButtonFragment\n      ...UITertiaryButtonFragment\n      ...EGDSStandardLinkFragment\n      ...EGDSImageLinkFragment\n      ...EGDSInlineLinkFragment\n    }\n    postSubmitDisplay {\n      __typename\n      ...UIPrimaryButtonFragment\n      ...UISecondaryButtonFragment\n      ...UITertiaryButtonFragment\n      ...EGDSStandardLinkFragment\n      ...EGDSSpannableTextFragment\n      ...EGDSInlineLinkFragment\n      ...EGDSImageLinkFragment\n    }\n    contextValues {\n      ...GraphQLPairFragment\n    }\n  }\n\n  fragment GraphQLPairFragment on GraphQLPair {\n    key\n    value\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Oe=function(){return e},e}var Re=Object.defineProperty,Be=function(e,n,t){return function(e,n,t){n in e?Re(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t}(e,"symbol"!==(void 0===n?"undefined":te(n))?n+"":n,t),t},Me=function e(n,t){K(this,e),Be(this,"type",2),Be(this,"promptId"),Be(this,"error"),this.promptId=n,this.error=t},Ve=function e(n){K(this,e),Be(this,"type",1),Be(this,"promptId"),this.promptId=n},Ue=function e(n,t,a){K(this,e),Be(this,"type",0),Be(this,"promptId"),Be(this,"context"),Be(this,"formValues"),this.promptId=n,this.context=t,this.formValues=a},je=function e(n,t){K(this,e),Be(this,"type",3),Be(this,"promptId"),Be(this,"data"),this.promptId=n,this.data=t},qe=function e(n,t,a){K(this,e),Be(this,"type",4),Be(this,"fieldId"),Be(this,"promptId"),Be(this,"value"),this.fieldId=t,this.promptId=n,this.value=a},He=function e(n){K(this,e),Be(this,"type",0),Be(this,"action"),this.action=n},ze=function e(n){K(this,e),Be(this,"type",1),Be(this,"action"),this.action=n},$e=function e(n){K(this,e),Be(this,"type",2),Be(this,"action"),this.action=n},Ke=function e(n,t,a){K(this,e),Be(this,"type",3),Be(this,"fieldId"),Be(this,"value"),Be(this,"isValid"),this.fieldId=n,this.value=t,this.isValid=a},Qe=function(){return a.createElement(k.v,{justifyContent:"center"},a.createElement(y.t,null,a.createElement(h.y,null)))},Je=(0,s.Ps)(re()),We=0,Xe=function(e){var n,t,r=e.data,i=(0,a.useMemo)((function(){return We+=1}),[]);return a.createElement(C.fR,{description:r.description,name:r.id,id:"uitk-icon-".concat(r.id,"-").concat(i),size:r.size?C.eZ[r.size]:void 0,title:null!==(n=r.title)&&void 0!==n?n:void 0,theme:null!==(t=r.theme)&&void 0!==t?t:void 0,shadow:Boolean(r.withBackground)})};Xe.displayName="EGDSIcon",Xe.fragment=Je;var Ye=(0,s.Ps)(ie(),Xe.fragment),Ze=function(e){var n=e.data,t=n.icon,r=n.text;return a.createElement(a.Fragment,null,a.createElement(S.l,{margin:{inlineend:"one"}},a.createElement(Xe,{data:t})),a.createElement(S.l,{margin:{inlineend:"one"}},a.createElement(G.b,{inline:!0},r)))};Ze.fragment=Ye,Ze.displayName="EGDSIconText";var en,nn,tn=(0,s.Ps)(oe()),an=(J(en={},"SMALL","small"),J(en,"MEDIUM","medium"),J(en,"LARGE","large"),en),rn=(J(nn={},"EXTERNAL","_blank"),J(nn,"INTERNAL","_self"),nn),on=function(e){var n=e.onClick,t=e.data,i=t.uiLinkAction,o=i.analytics,c=i.resource,l=i.target,u=i.accessibility,d=t.disabled,m=(t.size,t.text),s=(0,r.useClickTracker)(),f=(0,a.useMemo)((function(){return{id:o.referrerId,description:o.linkName,callback:function(e,n,t){s(e,n)}}}),[o,s]);return a.createElement(_.M,{size:"large",disabled:d,analytics:f,onClick:n,inline:!0},a.createElement("a",{href:c.value,target:rn[l]},m,u&&a.createElement("span",{className:"is-visually-hidden"},u)))};on.fragment=tn,on.displayName="EGDSInlineLink";var cn=(0,s.Ps)(ce()),ln=function(e){var n=e.data,t=e.inline,r=void 0!==t&&t;return a.createElement(G.b,{size:400,inline:r},n.text)};ln.fragment=cn,ln.displayName="EGDSPlainText";var un=(0,s.Ps)(le(),Xe.fragment),dn=function(e){var n=e.icon,t=e.iconPosition,r=e.iconPositionToMatch;return n&&t===r?a.createElement(Xe,{data:n}):null},mn=function(e){var n=e.className,t=e.inline,r=e.onClick,i=e.data,o=i.uiLinkAction,c=o.resource,l=o.target,u=o.accessibility,d=i.disabled,m=i.iconPosition,s=i.standardLinkIcon,f=i.size,p=i.text;return a.createElement(_.M,{className:n,size:an[f],inline:t,disabled:d,onClick:r},a.createElement("a",{target:rn[l],href:c.value},a.createElement(dn,{icon:s,iconPosition:m,iconPositionToMatch:"LEADING"}),p,a.createElement(dn,{icon:s,iconPosition:m,iconPositionToMatch:"TRAILING"}),u&&a.createElement(G.b,{className:"is-visually-hidden"},u)))};mn.fragment=un,mn.displayName="EGDSStandardLink";var sn=(0,s.Ps)(ue(),Ze.fragment,ln.fragment,on.fragment,mn.fragment),fn={EGDSPlainText:ln,EGDSInlineLink:on,EGDSStandardLink:mn,EGDSIconText:Ze},pn=function(e){var n=e.data,t=e.inline,r=void 0!==t&&t,i=fn[n.__typename]||ln;return a.createElement(i,{inline:r,data:n})};pn.fragment=sn,pn.displayName="EGDSText";var gn=(0,s.Ps)(de(),pn.fragment),vn=function(e){var n=e.data;return a.createElement(a.Fragment,null,n.contents?n.contents.map((function(e,n){return a.createElement(pn,{inline:!0,data:e,key:"EGDSSpannableTextContents_".concat(n)})})):a.createElement(pn,{data:n}))};vn.fragment=gn,vn.displayName="EGDSSpannableText";var bn,En=(0,s.Ps)(me(),Xe.fragment,vn.fragment),kn=(J(bn={},"DEFAULT","default"),J(bn,"ICON_ALTERNATE","icon-alternate"),J(bn,"ICON_STANDARD","icon-standard"),J(bn,"NO_BULLET","no-bullet"),J(bn,"UNRECOGNIZED",void 0),bn),yn=function(e){var n=e.data;return n.listItems.length?a.createElement(x.Y,{bullet:kn[n.bullet]},n.listItems.map((function(e){var n=e.icon,t=e.egdsElementId,r=e.text;return a.createElement(P.m,{key:t},n?a.createElement(Xe,{data:n}):null,"EGDSSpannableText"===r.__typename&&a.createElement(vn,{data:r}))}))):null};yn.fragment=En,yn.displayName="DirectFeedbackTextList";var hn=(0,s.Ps)(se()),Dn=function(e){var n=e.data,t=n.heading,r=n.body,i=null==r?void 0:r.text;return a.createElement(v.a,{heading:t,description:i})};Dn.displayName="ErrorSummary",Dn.fragment=Y(X({},hn),{__typename:"EGDSErrorSummary"});var Sn,Fn=(0,s.Ps)(fe()),In=(J(Sn={},"H1","h1"),J(Sn,"H2","h2"),J(Sn,"H3","h3"),J(Sn,"H4","h4"),J(Sn,"H5","h5"),J(Sn,"H6","h6"),J(Sn,"H7","h6"),J(Sn,"H8","h6"),Sn),xn=function(e){var n=e.data;return a.createElement(F.y,{tag:n.headingType?In[n.headingType]:void 0},n.text)};xn.fragment=Fn,xn.displayName="EGDSHeading";var Pn=(0,s.Ps)(pe(),Dn.fragment,ln.fragment,xn.fragment,vn.fragment,yn.fragment),Cn={EGDSPlainText:ln,EGDSHeading:xn,EGDSSpannableText:vn,DirectFeedbackTextList:yn,EGDSErrorSummary:Dn},Gn=function(e){var n=e.data,t=Cn[n.__typename];return t?a.createElement(t,{data:n}):a.createElement("pre",null,JSON.stringify(n,null,2))};Gn.fragment=Pn,Gn.displayName="DirectFeedbackDisplayElement",Gn.supportedTypes=Object.keys(Cn);var _n=(0,s.Ps)(ge()),Tn=function(e){return{validate:function(n){return function(e,n){return e&&e.length>n.maxLength?{invalid:n.errorMessage}:{}}(n,e)}}};Tn.fragment=_n;var Nn=(0,s.Ps)(ve()),Ln=function(e){return{validate:function(n){return function(e,n){return e&&e.length<n.minLength?{invalid:n.errorMessage}:{}}(n,e)}}};Ln.fragment=Nn;var wn=(0,s.Ps)(be()),An=function(e){return{validate:function(n){return function(e,n){var t=new RegExp(n.pattern);return(null==e?void 0:e.trim())&&!e.match(t)?{invalid:n.errorMessage}:{}}(n,e)}}};An.fragment=wn;var On=(0,s.Ps)(Ee()),Rn=function(e){return{validate:function(n){return function(e,n){return(null==e?void 0:e.trim())?{}:{invalid:n.errorMessage}}(n,e)}}};Rn.fragment=On;var Bn=(0,s.Ps)(ke(),An.fragment,Rn.fragment,Tn.fragment,Ln.fragment),Mn=function(e){var n=function(e){return e.map((function(e){switch(e.__typename){case"EGDSRegexInputValidation":return X({},e,An(e));case"EGDSMaxLengthInputValidation":return X({},e,Tn(e));case"EGDSMinLengthInputValidation":return X({},e,Ln(e));case"EGDSRequiredInputValidation":return X({},e,Rn(e));default:return{validate:function(){return{}}}}}))}(e||[]);return{validate:function(e){return n.map((function(n){return n.validate(e)})).find((function(e){return void 0!==(null==e?void 0:e.invalid)}))||{}}}},Vn=(0,s.Ps)(ye(),Bn,Xe.fragment),Un=0,jn=function(e){var n=e.data,t=n.label,r=n.required,i=n.placeholder,o=n.value,c=n.name,l=n.leftIcon,u=n.validations,d=e.onChange,m=e.value,s=(0,a.useMemo)((function(){return Un+=1}),[]),f=(0,a.useMemo)((function(){return Mn(u)}),[u]),p=ee((0,a.useState)(void 0),2),g=p[0],v=p[1],b=(0,a.useCallback)((function(e){if(d){var n=f.validate(e.target.value).invalid;v(n),d(e.target.name,e.target.value,!(void 0!==n||r&&!e.target.value))}}),[d,r,f]);return a.createElement(T.w,{id:"uitk-text-input-".concat(c,"-").concat(s),label:t||"",value:m||o||void 0,name:c||void 0,hasVisibleLabel:""!==t,placeholder:i||void 0,required:r||!1,onChange:b,icon:(null==l?void 0:l.id)||void 0,invalid:g})};jn.fragment=Vn,jn.displayName="DirectFeedbackInputField";var qn=(0,s.Ps)(he()),Hn=function(e){var n=e.checked,t=e.data,r=e.onChange;return a.createElement(w.i,{id:"basic-pill-".concat(t.name),key:t.name,checked:n,onChange:function(e){r&&r(t.name,e.currentTarget.checked)}},t.primary)};Hn.displayName="EGDSBasicPillFragment",Hn.fragment=qn;var zn=(0,s.Ps)(De()),$n=function(e){var n,t=e.data,r=e.onChange,i=e.checked,o=e.required;return a.createElement(A.R,{checked:null!==i?i:"CHECKED"===t.state,indeterminate:null!==i&&"INDETERMINATE"===t.state,description:t.description||void 0,required:t.required||o,label:null===(n=t.label)||void 0===n?void 0:n.text,disabled:!t.enabled,name:t.name||void 0,id:t.name||void 0,errorMessage:t.errorMessage||void 0,onChange:function(e){r&&r(t.name,e.currentTarget.checked)}},t.label.text)};$n.fragment=zn,$n.displayName="EGDSCheckBox";var Kn=(0,s.Ps)(Se(),Hn.fragment,$n.fragment),Qn=function(e){var n,t=e.data,r=e.onChange,i=e.value,o=t.groupName,c=t.errorMessage,l=t.multiSelectOptions,u=t.multiSelectPillOptions,d=t.required,m=t.legend,s=t.style,f=ee((0,a.useState)({values:i||(null===(n=t.selected)||void 0===n?void 0:n.split(","))||[]}),2),p=f[0],g=f[1],v=(0,a.useCallback)((function(e,n){var t,a=function(e,n){var t=e.values;return n.value?e.values.includes(n.name)||(t=t.concat([n.name])):t=t.filter((function(e){return e!==n.name})),{values:t}}(p,{name:e,value:n});(g(Y(X({},p),{values:a.values})),r)&&r(o,a.values,!d||!!(null===(t=a.values)||void 0===t?void 0:t.length))}),[r,o,d,p]);return"PILL"===s?a.createElement(L.m,{wrap:!0},u.map((function(e,n){return a.createElement(Hn,{checked:p.values.includes(e.name||""),key:"".concat(e.name,"_").concat(n),data:e,onChange:v})}))):a.createElement(N.D,{group:o,errorMessage:c||void 0,legendLabel:m},l.map((function(e,n){return a.createElement($n,{checked:p.values.includes(e.name||""),required:t.required?0===p.values.length:void 0,data:e,key:"".concat(e.name,"_").concat(n),onChange:v})})))};Qn.fragment=Kn,Qn.displayName="DirectFeedbackMultiSelectGroup";var Jn=(0,s.Ps)(Fe()),Wn=function(e){var n=e.data,t=e.onChange,r=e.value,i=n.groupName,o=n.errorMessage,c=n.radioGroupOptions,l=n.required,u=n.legend,d=ee((0,a.useState)({value:r||n.selected||void 0}),2),m=d[0],s=d[1],f=(0,a.useCallback)((function(e){var n={value:e.currentTarget.value};s(n),t&&t(i,n.value,!l||!!n.value)}),[t,i,l]);return a.createElement(O.s,{group:i,errorMessage:o||void 0,selected:m.value,onChange:f,legendLabel:u},c.map((function(e,n){return a.createElement(S.l,{key:"".concat(i,"_option").concat(n),margin:{blockend:"two"}},a.createElement("div",null,a.createElement(R.n,{id:e.value||"".concat(i,"_option").concat(n),value:e.value||"".concat(i,"_option").concat(n),labelSuffix:e.labelSuffix||void 0,description:e.description||void 0},e.label)))})))};Wn.fragment=Jn,Wn.displayName="DirectFeedbackRadioGroup";var Xn=(0,s.Ps)(Ie(),Bn,Xe.fragment),Yn=0,Zn=function(e){var n=e.data,t=n.isEditable,r=n.label,i=n.maxRows,o=n.minRows,c=n.placeholder,l=n.value,u=n.name,d=n.required,m=n.validations,s=e.onChange,f=e.value,p=(0,a.useMemo)((function(){return Yn+=1}),[]),g=(0,a.useMemo)((function(){return Mn(m)}),[m]),v=ee((0,a.useState)(void 0),2),b=v[0],E=v[1],k=(0,a.useCallback)((function(e){if(s){var n=g.validate(e.target.value).invalid;E(n),s(e.target.name,e.target.value,!(void 0!==n||d&&!e.target.value))}}),[s,d,g]);return a.createElement(B.J,{id:"uitk-text-area-".concat(u,"-").concat(p),label:r||"",value:f||l||void 0,name:u||void 0,disabled:!t,hasVisibleLabel:""!==r,maxRows:i||void 0,minRows:o||void 0,placeholder:c||void 0,onChange:k,required:d||!1,invalid:b})};Zn.fragment=Xn,Zn.displayName="DirectFeedbackTextArea";var et=(0,s.Ps)(xe(),Dn.fragment,ln.fragment,xn.fragment,Qn.fragment,vn.fragment,Wn.fragment,jn.fragment,Zn.fragment,yn.fragment),nt={DirectFeedbackMultiSelectGroup:Qn,DirectFeedbackRadioGroup:Wn,DirectFeedbackInputField:jn,DirectFeedbackTextArea:Zn},tt={DirectFeedbackMultiSelectGroup:function(e,n){return n.get(e.groupName)},DirectFeedbackRadioGroup:function(e,n){return n.get(e.groupName)},DirectFeedbackInputField:function(e,n){return e.name?n.get(e.name):null},DirectFeedbackTextArea:function(e,n){return e.name?n.get(e.name):null}};var at=function(e){var n=e.data,t=e.onChange,r=e.values,i=nt[n.__typename],o=(0,a.useCallback)((function(e,n,a){null==t||t(e,n,a)}),[t]);if(i){var c=tt[n.__typename];return c?a.createElement(i,{data:n,value:c(n,r),onChange:o}):null}return function(e){return!!Gn.supportedTypes.find((function(n){return e.__typename===n}))}(n)?a.createElement(Gn,{data:n}):a.createElement("pre",null,JSON.stringify(n,null,2))};at.fragment=et,at.displayName="DirectFeedbackElement";var rt=(0,s.Ps)(Pe()),it=(0,s.Ps)(Ce(),rt),ot=function(){function e(e){var n=e.actionDispatch,t=e.buttonProps,r=void 0===t?{}:t,i=e.data,o=i.action,c=r.onClick,l=(0,a.useCallback)((function(e){n&&o&&n(o),c&&c(e)}),[n,o,c]);return a.createElement(M.Y,Y(X({type:"button",disabled:i.disabled},r),{onClick:l}),i.primary," ",i.icon&&a.createElement(Xe,{data:i.icon}))}return e.displayName="UIPrimaryButton",e.fragment=it,e}(),ct=(0,s.Ps)(Ge(),rt),lt=function(){function e(e){var n=e.actionDispatch,t=e.buttonProps,r=void 0===t?{}:t,i=e.data,o=i.action,c=r.onClick,l=(0,a.useCallback)((function(e){n&&o&&n(o),c&&c(e)}),[n,o,c]);return a.createElement(V.p,Y(X({type:"button"},r),{onClick:l,disabled:i.disabled}),i.primary," ",i.icon&&a.createElement(Xe,{data:i.icon}))}return e.displayName="UISecondaryButton",e.fragment=ct,e}(),ut={UIPrimaryButton:ot,UISecondaryButton:lt},dt=function(){function e(e){var n=e.actionDispatch,t=e.buttonProps,i=e.data,o=ut[i.__typename]||lt,c=i.analytics,l=(0,r.useClickTracker)(),u=X({},t),d=u.onClick;return u.onClick=(0,a.useCallback)((function(e){c&&l("".concat(c.referrerId),c.linkName,!1),d&&d(e)}),[c,l,d]),a.createElement(o,{data:i,buttonProps:u,actionDispatch:n})}return e.displayName="EGDSButton",e.fragment=rt,e}(),mt=(0,s.Ps)(_e(),at.fragment,Gn.fragment,dt.fragment,pn.fragment),st=function(e){var n,t,r,i,o,c=e.data,l=e.eventDispatch,u=e.values,d=e.valuesValidation,m=(0,a.useMemo)((function(){return{DirectFeedbackOpenNextPageAction:function(e){l&&l(new $e(e))},DirectFeedbackOpenPreviousPageAction:function(e){l&&l(new ze(e))},DirectFeedbackSubmitFormAction:function(e){l&&l(new He(e))}}}),[l]),s=(0,a.useCallback)((function(e,n,t){l&&l(new Ke(e,n,t))}),[l]),f=null===(n=c.elements)||void 0===n?void 0:n.filter((function(e){return"name"in e||"groupName"in e})).map((function(e){return"name"in e?e.name:e.groupName})).reduce((function(e,n){return e&&(!d.has(n)||d.get(n))}),!0);return a.createElement(S.l,{margin:"two"},a.createElement(D.$,{hasRequiredFieldIndicator:!0},a.createElement(k.v,{space:"four",direction:"column"},(c.title||(null===(t=c.subtitle)||void 0===t?void 0:t.text))&&a.createElement(y.t,null,a.createElement("div",null,c.title&&a.createElement(F.y,{tag:"h3",size:4},c.title),c.subtitle&&a.createElement(I.w,null,c.subtitle.text))),(null===(r=c.elements)||void 0===r?void 0:r.length)?c.elements.map((function(e,n){return a.createElement(y.t,{key:"".concat(e.__typename,"_").concat(n)},a.createElement("div",null,a.createElement(at,{data:e,values:u,onChange:s})))})):null,(null===(i=c.commands)||void 0===i?void 0:i.length)?a.createElement(y.t,null,a.createElement(S.l,{margin:{blockstart:"four",blockend:"four"}},a.createElement(k.v,{justifyContent:"space-between",direction:"HORIZONTAL"===c.commandOrientation?"row":"column"},c.commands.map((function(e,n){var t,r=(null==e||null===(t=e.action)||void 0===t?void 0:t.__typename)||"",i=m[r],o=("DirectFeedbackOpenNextPageAction"===r||"DirectFeedbackSubmitFormAction"===r)&&!f;return a.createElement(y.t,{key:"EGDSButton_".concat(n)},a.createElement(S.l,{margin:{block:"one"}},a.createElement("div",null,a.createElement(dt,{data:e,actionDispatch:i,buttonProps:{disabled:o,isFullWidth:!0}}))))}))))):null,(null===(o=c.footer)||void 0===o?void 0:o.length)?c.footer.map((function(e,n){return a.createElement(y.t,{key:"".concat(e.__typename,"_").concat(n)},a.createElement("div",null,a.createElement(Gn,{data:e})))})):null)))};st.fragment=mt,st.displayName="DirectFeedbackPage";var ft=(0,s.Ps)(Te(),st.fragment),pt=function(e){var n=e.flatMap((function(e){return e.elements})).filter((function(e){return"name"in e||"groupName"in e})).filter((function(e){return"required"in e&&e.required})).map((function(e){return"name"in e?e.name:e.groupName})),t=new Map;return n.forEach((function(e){t.set(e,!1)})),{pageIndexStack:[0],numPages:e.length,record:new Map,recordValidation:t}},gt=function(e,n){n.pageIndexStack[n.pageIndexStack.length-1];var t=e.slice((n.pageIndexStack[n.pageIndexStack.length-1]||0)+1).findIndex((function(e){return function(e,n){return!e.displayConditions||e.displayConditions.every((function(e){var t,a=n.get(e.fieldId);switch(e.conditionType){case"BOOL":case"TEXT":t=e.expectedValue===a;break;case"PATTERN":t=new RegExp(e.expectedValue).test(a);break;default:t=!0}return t}))}(e,n.record)}));return t>=0?t+1+(n.pageIndexStack[n.pageIndexStack.length-1]||0):e.length},vt=function(e){var n=e.data,t=e.doSubmit,r=e.doClose,i=e.doFormValueChanged,o=n.pages,c=(0,a.useCallback)((function(e,n){var t,a,r={pageIndexStack:e.pageIndexStack.slice(0),numPages:e.numPages,record:new Map(e.record),recordValidation:new Map(e.recordValidation)};switch(n.type){case 0:r.pageIndexStack.push(gt(o,e));break;case 2:if((a=n).action.destinationId){var i=o.findIndex((function(e){return e.id===a.action.destinationId}));r.pageIndexStack.push(i)}else r.pageIndexStack.push(gt(o,e));break;case 1:r.pageIndexStack.length>1&&r.pageIndexStack.pop();break;case 3:t=n,r.record.set(t.fieldId,t.value),r.recordValidation.set(t.fieldId,t.isValid)}return r}),[o]),l=ee((0,a.useReducer)(c,o,pt),2),u=l[0],d=l[1],m=ee((0,a.useState)(!1),2),s=m[0],f=m[1],p=(0,a.useCallback)((function(e){switch(e.type){case 0:t&&(f(!0),t(Array.from(u.record.keys()).map((function(e){var n;return{key:e,value:null===(n=u.record.get(e))||void 0===n?void 0:n.toString()}}))).then((function(n){var t,a,r;!!(null===(a=n.data)||void 0===a||null===(t=a.directFeedbackSubmit.errors)||void 0===t?void 0:t.length)||(null===(r=n.data)||void 0===r?void 0:r.directFeedbackSubmit.serviceError)||d(e),f(!1)})).catch((function(){f(!1)})));break;case 3:if(i)i(e);d(e);break;default:d(e)}}),[d,t,u,f]);(0,a.useEffect)((function(){(u.pageIndexStack[u.pageIndexStack.length-1]||0)>=u.numPages&&r&&r()}));var g=u.pageIndexStack[u.pageIndexStack.length-1]||0,v=o[g];return s?a.createElement(Qe,null):g<u.numPages&&v?a.createElement(st,{data:v,eventDispatch:p,values:u.record,valuesValidation:u.recordValidation}):null};vt.fragment=ft,vt.displayName="DirectFeedbackPages";var bt=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Z(e,n)}(o,e);var n,t,r,i=ae(o);function o(e){var n;return K(this,o),n=i.call(this,e),Be($(n),"myEnforcement"),Be($(n),"scriptId"),Be($(n),"removeScript",(function(){var e=document.getElementById(n.scriptId);e&&e.remove()})),Be($(n),"loadScript",(function(){n.removeScript();var e=document.createElement("script");return e.id=n.scriptId,e.type="text/javascript",e.src=n.props.clientApiUrl,e.setAttribute("data-callback","setupEnforcement"),e.async=!0,e.defer=!0,n.props.nonce&&e.setAttribute("data-nonce",n.props.nonce),document.body.appendChild(e),e})),Be($(n),"setupEnforcement",(function(e){n.myEnforcement=e,n.myEnforcement.setConfig({selector:n.props.selector,mode:n.props.mode,onReady:n.props.onReady,onShown:n.props.onShown,onShow:n.props.onShow,onSuppress:n.props.onSuppress,onCompleted:n.props.onCompleted,onReset:n.props.onReset,onHide:n.props.onHide,onError:n.props.onError,onFailed:n.props.onFailed})})),n.myEnforcement=null,n.scriptId="",n}return n=o,(t=[{key:"componentDidMount",value:function(){var e=this;this.scriptId="arkose-script-".concat(this.props.publicKey),this.loadScript().onload=function(){window.setupEnforcement=e.setupEnforcement.bind(e)}}},{key:"componentDidUpdate",value:function(e,n,t){this.myEnforcement&&this.setupEnforcement(this.myEnforcement)}},{key:"componentWillUnmount",value:function(){window.setupEnforcement&&delete window.setupEnforcement,this.removeScript()}},{key:"render",value:function(){var e,n;return a.createElement(a.Fragment,null,"inline"===this.props.mode&&a.createElement("div",{id:null===(n=this.props)||void 0===n||null===(e=n.selector)||void 0===e?void 0:e.slice(1)}))}}])&&Q(n.prototype,t),r&&Q(n,r),o}(a.Component),Et=(0,s.Ps)(Ne(),vt.fragment),kt=(0,s.Ps)(Le(),Dn.fragment),yt=function(e){var n=e.data,t=e.mutationErrors,r=e.serviceError,i=e.doSubmit,o=e.doClose,c=e.doFormValueChanged;return a.createElement(b.a,{space:"two"},t&&t.length>0?t.map((function(e,n){return a.createElement(E.P,{key:"UitkErrorSummary_".concat(n)},a.createElement(v.a,{heading:"",description:e.error}))})):null,r&&a.createElement(E.P,null,a.createElement(Dn,{data:r})),a.createElement(E.P,null,a.createElement(vt,{data:n,doClose:o,doSubmit:i,doFormValueChanged:c})))},ht=function(e){var n=e.error;return a.createElement(v.a,{heading:(null==n?void 0:n.message)||""})},Dt=function(e){var n,t,r,i,o,c=e.inputs,l=e.eventDispatch,u=e.contextValues,d=(0,g.v)().context,m=c.promptId,s=(0,a.useMemo)((function(){return(null!=u?u:[]).map((function(e){return{key:e.key,value:e.value}}))}),[u]),v=Y(X({},c),{context:d}),b=ee((0,f.D)(kt),2),E=b[0],k=b[1],y=k.data,h=(k.loading,k.error,(0,a.useCallback)((function(e){l&&setTimeout((function(){return l(e)}))}),[l])),D=(0,a.useCallback)((function(e){h(new Me(m,e))}),[m,h]),S=(0,a.useCallback)((function(e){e.directFeedbackPromptById&&h(new je(m,e.directFeedbackPromptById))}),[m,h]),F=(0,p.a)(Et,{variables:v,onError:D,onCompleted:S}),I=F.data,x=F.error,P=F.loading;(null==I||null===(n=I.directFeedbackPromptById)||void 0===n?void 0:n.challenges)&&(null==I||null===(t=I.directFeedbackPromptById)||void 0===t?void 0:t.challenges.length)>0&&(r=null==I||null===(o=I.directFeedbackPromptById)||void 0===o||null===(i=o.challenges[0])||void 0===i?void 0:i.action);var C=(0,a.useRef)(null),G=ee((0,a.useState)(),2),_=G[0],T=G[1],N=ee((0,a.useState)(),2),L=N[0],w=N[1],A=ee((0,a.useState)(),2),O=A[0],R=A[1],B=(0,a.useCallback)((function(){var e=new Promise((function(e,n){R((function(){return n})),w((function(){return e}))}));T(e)}),[T,w,R]),M=(0,a.useCallback)((function(){O&&O(),B()}),[O,B]);(0,a.useEffect)((function(){B()}),[B]);var V=(0,a.useCallback)((function(e,n){return E({variables:{context:d,feedback:{formValues:e,context:s,atoShieldValidation:n?{captchaToken:n}:void 0},id:null==c?void 0:c.promptId}}).then((function(n){return l&&l(new Ue(m,s,e)),n}))}),[m,l,E,s,d,null==c?void 0:c.promptId]),U=(0,a.useCallback)((function(e){var n;return r&&C.current&&_?(null===(n=C.current.myEnforcement)||void 0===n||n.run(),_.then((function(n){return V(e,n.token)}))):V(e)}),[C,_,r,V]),j=(0,a.useCallback)((function(){l&&l(new Ve(m))}),[m,l]),q=(0,a.useCallback)((function(e){l&&l(new qe(m,e.fieldId,e.value))}),[m,l]);return P?a.createElement(Qe,null):(null==I?void 0:I.directFeedbackPromptById)?a.createElement(a.Fragment,null,a.createElement(yt,{data:I.directFeedbackPromptById,mutationErrors:(null==y?void 0:y.directFeedbackSubmit.errors)||[],serviceError:(null==y?void 0:y.directFeedbackSubmit.serviceError)||null,doSubmit:U,doClose:j,doFormValueChanged:q}),r&&a.createElement(bt,{publicKey:r.apiKey,clientApiUrl:r.src,onCompleted:L,onHide:M,ref:C})):a.createElement(ht,{error:x})};Dt.displayName="sharedui-DirectFeedbackPrompt";var St=function(e){var n,t,s=e.inputs,f=e.eventDispatch,p=e.contextValues,g=e.triggerRef,v=e.dialogQueryId,b=(0,o.useLocalization)().formatText,E=s.promptId,k=a.useRef(null),y=ee((0,i.useDialog)(v||E,"cdfPromptDialog"),3),h=y[1],D=y[2],S=ee((0,a.useState)(""),2),F=S[0],I=S[1],x=h.closeDialog,P=(0,r.useClickTracker)(),C=(0,a.useCallback)((function(e,n,t){P(e,"Direct feedback prompt close",!1)}),[P]),G=(0,a.useCallback)((function(e){switch(e.type){case 1:x();break;case 3:var n;I((null===(n=e.data)||void 0===n?void 0:n.title)||"")}f&&setTimeout((function(){return f(e)}))}),[x,f]),_=(0,a.useCallback)((function(){f&&f(new Ve(E))}),[E,f]),T=(0,a.useCallback)((function(){h.closeDialog()}),[h]);return a.createElement(l.U,{isVisible:!0,closeCallback:_},a.createElement(D,null,a.createElement(c.Viewport,null,a.createElement(c.ViewSmall,null,a.createElement(u.K,{isVisible:!0,closeCallback:_,triggerRef:g||k,type:"full",returnFocusOnClose:!0},a.createElement(m.b,{navigationContent:{onClick:T,navType:"close",navIconLabel:null!==(n=b("close.dialog"))&&void 0!==n?n:"Close",onClickAnalytics:{id:"DirectFeedback.".concat(E,".dialog"),callback:C}},toolbarTitle:F}),a.createElement(d.z,null,a.createElement(Dt,{inputs:s,eventDispatch:G,contextValues:p})))),a.createElement(c.ViewLarge,null,a.createElement(u.K,{isVisible:!0,closeCallback:_,triggerRef:k,type:"centered",returnFocusOnClose:!0},a.createElement(m.b,{navigationContent:{onClick:T,navType:"close",navIconLabel:null!==(t=b("close.dialog"))&&void 0!==t?t:"Close",onClickAnalytics:{id:"DirectFeedback.".concat(E,".dialog"),callback:C}},toolbarTitle:F}),a.createElement(d.z,null,a.createElement(Dt,{inputs:s,eventDispatch:G,contextValues:p})))))))};St.displayName="sharedui-DirectFeedbackDialog";var Ft,It=(0,s.Ps)(we()),xt=(J(Ft={},"ONE_ONE",U.s.R1_1),J(Ft,"FOUR_ONE",U.s.R4_1),J(Ft,"FOUR_THREE",U.s.R4_3),J(Ft,"SIXTEEN_NINE",U.s.R16_9),J(Ft,"THREE_TWO",U.s.R3_2),J(Ft,"THREE_FOUR",U.s.R3_4),J(Ft,"TWENTY_ONE_NINE",U.s.R21_9),Ft),Pt=function(e){var n=e.onClick,t=e.data,i=t.uiLinkAction.analytics,o=i.referrerId,c=i.linkName,l=t.image,u=(0,r.useClickTracker)(),d=(0,a.useCallback)((function(e){u(o,c),n&&n(e)}),[o,c,n]);return a.createElement(U.N,{roundcorner:!0,ratio:l.aspectRatio?xt[l.aspectRatio]:U.s.R16_9},a.createElement(j.p,{placeholderImage:!0,alt:l.altText||"",src:l.url}),a.createElement(q.F,null,a.createElement("button",{type:"button",onClick:d},l.description)))};Pt.fragment=It,Pt.displayName="EGDSImageLink";var Ct=function(e){var n=e.data,t=e.onClick,r=Y(X({},n),{uiLinkAction:Y(X({},n.uiLinkAction),{resource:{__typename:"Uri",value:"javascript:void(0)"}})});return a.createElement(Pt,{data:r,onClick:t})};Ct.fragment=Pt.fragment,Ct.displayName="DirectFeedbackCallToActionImageLinkAdapter";var Gt=function(e){var n=e.data,t=e.onClick,r=Y(X({},n),{uiLinkAction:Y(X({},n.uiLinkAction),{resource:{__typename:"Uri",value:"javascript:void(0)"}})});return a.createElement(on,{data:r,onClick:t})};Gt.fragment=on.fragment,Gt.displayName="DirectFeedbackCallToActionInlineLinkAdapter";var _t=function(e){var n=e.data,t=e.onClick;return a.createElement(ot,{data:n,buttonProps:{onClick:t}})};_t.fragment=ot.fragment,_t.displayName="DirectFeedbackCallToActionPrimaryButtonAdapter";var Tt=function(e){var n=e.data,t=e.onClick;return a.createElement(lt,{data:n,buttonProps:{onClick:t}})};Tt.fragment=lt.fragment,Tt.displayName="DirectFeedbackCallToActionSecondaryButtonAdapter";var Nt=function(e){var n=e.data,t=e.onClick,r=Y(X({},n),{uiLinkAction:Y(X({},n.uiLinkAction),{resource:{__typename:"Uri",value:"javascript:void(0)"}})});return a.createElement(mn,{data:r,onClick:t})};Nt.fragment=mn.fragment,Nt.displayName="DirectFeedbackCallToActionStandardLinkAdapter";var Lt=(0,s.Ps)(Ae(),rt),wt=function(){function e(e){var n=e.actionDispatch,t=e.buttonProps,r=void 0===t?{}:t,i=e.data,o=i.action,c=r.onClick,l=(0,a.useCallback)((function(e){n&&o&&n(o),c&&c(e)}),[n,o,c]);return a.createElement(H.m,Y(X({type:"button"},r),{onClick:l,disabled:i.disabled}),i.primary," ",i.icon&&a.createElement(Xe,{data:i.icon}))}return e.displayName="UITertiaryButton",e.fragment=Lt,e}(),At=function(e){var n=e.data,t=e.onClick;return a.createElement(wt,{data:n,buttonProps:{onClick:t}})};At.fragment=wt.fragment,At.displayName="DirectFeedbackCallToActionTertiaryButtonAdapter";var Ot=(0,s.Ps)(Oe(),_t.fragment,Tt.fragment,At.fragment,vn.fragment,Nt.fragment,Gt.fragment,Ct.fragment);var Rt=new Map;function Bt(e,n){var t=e+JSON.stringify(n),a=0;return Rt.has(t)&&(a=Rt.get(t)||0),Rt.set(t,a+1),"".concat(function(e){for(var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=3735928559^t,r=1103547991^t,i=0;i<e.length;i++)n=e.charCodeAt(i),a=Math.imul(a^n,2246822519),r=Math.imul(r^n,3266489917);return a^=Math.imul(a^r>>>15,1935289751),r^=Math.imul(r^a>>>15,3405138345),2097152*((r^=(a^=r>>>16)>>>16)>>>0)+(a>>>11)}(t+a))}var Mt=function(e){var n,t,r=e.data,o=e.eventDispatch,c=e.forcePostSubmit,l=ee((0,a.useState)((function(){return Bt(r.promptId,r.contextValues)})),1)[0],u=ee((0,i.useDialog)(l,"cdfPromptDialog"),2),d=u[0],m=u[1],s=ee((0,a.useState)(!1),2),v=s[0],b=s[1],E=(0,a.useCallback)((function(e){if(0===e.type)b(!0);o&&o(e)}),[b,o]),k=function(e){switch(e){case"UIPrimaryButton":return _t;case"UISecondaryButton":return Tt;case"UITertiaryButton":return At;case"EGDSStandardLink":return Nt;case"EGDSInlineLink":return Gt;case"EGDSImageLink":return Ct;default:throw new Error("unsupported callToAction type. Please update to the newest version of DirectFeedbackCallToAction")}}(r.callToAction.__typename),y=function(e){switch(e){case"UIPrimaryButton":return _t;case"UISecondaryButton":return Tt;case"UITertiaryButton":return At;case"EGDSStandardLink":return Nt;case"EGDSInlineLink":return Gt;case"EGDSImageLink":return Ct;case"EGDSSpannableText":return vn;default:return null}}(null===(n=r.postSubmitDisplay)||void 0===n?void 0:n.__typename),h=r.contextValues.map((function(e){return{key:e.key,value:e.value}})),D=(0,g.v)().context,S={promptId:r.promptId,context:D},F=(0,p.a)(Et,{variables:S,skip:!r.eager&&!d}),I=F.data,x=F.loading,P=!!(null==I||null===(t=I.directFeedbackPromptById)||void 0===t?void 0:t.pages[0]),C=ee((0,f.D)(kt),2),G=C[0],_=C[1],T=_.data,N=_.loading,L=P||!I&&!x;return(0,a.useEffect)((function(){L||!d||!I||N||T||G({variables:{context:D,feedback:{formValues:[],context:h},id:r.promptId}}).then((function(){m.closeDialog(),E(new Ue(r.promptId,h,[]))}))}),[m.closeDialog,N,T,L,d,G,D,h,I,r.promptId,E,m]),a.createElement(a.Fragment,null,(v||c)&&y?a.createElement(y,{data:r.postSubmitDisplay,onClick:m.openDialog}):a.createElement(k,{data:r.callToAction,onClick:m.openDialog}),L?a.createElement(St,{inputs:{promptId:r.promptId},dialogQueryId:l,eventDispatch:E,contextValues:h}):null)};Mt.fragment=Ot,Mt.displayName="DirectFeedbackCallToAction"}}]);
//# sourceMappingURL=shared-ui-retail-customer-direct-feedback.5121a9c7bbbd168ec1dc.js.map