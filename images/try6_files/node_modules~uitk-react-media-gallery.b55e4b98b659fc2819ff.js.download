/*@license For license information please refer to node_modules~uitk-react-media-gallery.licenses.txt*/
(self.webpackChunkblossom_flex_ui=self.webpackChunkblossom_flex_ui||[]).push([[37541],{95785:function(){},72958:function(e,t,n){n.r(t),n.d(t,{MediaGalleryThumbnail:function(){return g.g},UitkMediaGallery:function(){return c},UitkMediaGalleryImage:function(){return s.E},UitkMediaGalleryImageDialog:function(){return m.V},UitkMediaGalleryImageFooter:function(){return d.z},UitkMediaGalleryImageView:function(){return u.B},UitkMediaGalleryLocalAnalyticsIdType:function(){return u.Q},UitkMediaGalleryThumbnail:function(){return g.i},UitkMediaGalleryThumbnailView:function(){return p.h}});var a=n(67294),i=n(2009),r=n(95785),l=n.n(r),o=i.classNames.bind(l()),c=function(e){var t=e.name;return a.createElement("div",{className:o("uitk-media-gallery")},t)},s=n(15681),u=n(6890),m=n(26819),d=n(78806),g=n(11389),p=n(40419)},26819:function(e,t,n){n.d(t,{V:function(){return d}});var a=n(70655),i=n(67294),r=n(59089),l=n(78917),o=n(2009),c=n(89191),s=n(95785),u=n.n(s),m=o.classNames.bind(u()),d=function(e){function t(t){var n=e.call(this,t)||this;return n.onDismiss=n.onDismiss.bind(n),n}return(0,a.__extends)(t,e),t.prototype.onDismiss=function(){var e=this.props.onDismiss;e&&e()},t.prototype.render=function(){var e=this.props,t=e.analytics,n=e.ariaLabel,o=e.buttonRef,s=e.children,u=e.closeCallback,d=e.openCallback,g=e.returnFocusOnClose,p=(0,a.__rest)(e,["analytics","ariaLabel","buttonRef","children","closeCallback","openCallback","returnFocusOnClose"]);return i.createElement(r.N,{ariaLabel:n,className:m("uitk-media-gallery-image-dialog"),animation:l.W.SLIDEUP,closeCallback:u,dialogShow:!0,openCallback:d,returnFocusOnClose:g,strictFullscreen:!0,theme:r.E.DARK},i.createElement(c.N,{overlay:!0,navigationContent:(0,a.__assign)({navButtonId:"UitkMediaGalleryImageToolbar",navButtonRef:o,onClick:this.onDismiss,onClickAnalytics:t},p)}),s)},t.displayName="UitkMediaGalleryImageDialog",t}(i.Component)},78806:function(e,t,n){n.d(t,{z:function(){return g}});var a=n(70655),i=n(67294),r=n(23984),l=n(91233),o=n(24499),c=n(97534),s=n(2009),u=n(95785),m=n.n(u),d=s.classNames.bind(m()),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.imgCaption,n=e.className,a=e.currentIndex,s=e.imagesLength,u=d("uitk-media-gallery-image-footer",n),m=a+1;return i.createElement(o.o,{type:c.k.BOTTOM},i.createElement(r.v,{className:u,justifyContent:"space-between",alignItems:"end"},i.createElement("span",{className:d("uitk-type-300","truncate-lines-2")},t&&""!==t&&"".concat(t)),s&&s>1&&i.createElement(l.t,{className:d("uitk-type-300"),shrink:0},i.createElement("span",{"data-stid":"media-gallery-image-counter"},"".concat(m," / ").concat(s)))))},t.displayName="UitkMediaGalleryImageFooter",t}(i.PureComponent)},6890:function(e,t,n){n.d(t,{B:function(){return k},Q:function(){return a}});var a,i=n(70655),r=n(29892),l=n(67294),o=n(45338),c=n(65160),s=n(26044),u=n(23984),m=n(91233),d=n(2009),g=n(95785),p=n.n(g),h=n(15681),f=n(78806),y=d.classNames.bind(p());!function(e){e.clickLeft="clickLeft",e.clickRight="clickRight"}(a||(a={}));var v=function(e){function t(t){var n=e.call(this,t)||this;return n.uid=Math.random().toString(36).substring(7),n.mediaGalleryLiveAnnounceId="uitk-media-gallery-live-announce-".concat(n.uid),n.state={currentIndex:t.currentIndex||0,isInteractive:!1},n.onNextCallback=n.onNextCallback.bind(n),n.onNextTrackingCallback=n.onNextTrackingCallback.bind(n),n.onPrevCallback=n.onPrevCallback.bind(n),n.onPrevTrackingCallback=n.onPrevTrackingCallback.bind(n),n.onUpdateCallback=n.onUpdateCallback.bind(n),n.navWithArrowKeys=n.navWithArrowKeys.bind(n),n.bindEvents=n.bindEvents.bind(n),n.unbindEvents=n.unbindEvents.bind(n),n.onSwiping=n.onSwiping.bind(n),n.contentRef=l.createRef(),n}return(0,i.__extends)(t,e),t.prototype.componentDidMount=function(){this.setState({isAnimating:!1,isInteractive:!0}),this.bindEvents()},t.prototype.componentWillUnmount=function(){clearInterval(this._animationTimer),this.unbindEvents()},t.prototype.onPrevTrackingCallback=function(){var e=this.props,t=e.analytics,n=e.galleryName,r=t&&(0,i.__assign)({localAnalyticsId:"".concat(n,".MediaGallery.").concat(a.clickLeft)},t);(0,d.analyticsTracker)(r,"","")},t.prototype.onNextTrackingCallback=function(){var e=this.props,t=e.analytics,n=e.galleryName,r=t&&(0,i.__assign)({localAnalyticsId:"".concat(n,".MediaGallery.").concat(a.clickRight)},t);(0,d.analyticsTracker)(r,"","")},t.prototype.onPrevCallback=function(){var e=this;if(!this.state.isAnimating){this.setState({isAnimating:!0,isAnimatingNext:!1,isAnimatingPrev:!0}),this._animationTimer&&clearInterval(this._animationTimer);var t=this.getBackwardIndex(1);this._animationTimer=setTimeout((function(){e.announce(t),e.onUpdateCallback(t),e.onPrevTrackingCallback()}),300)}},t.prototype.onNextCallback=function(){var e=this;if(!this.state.isAnimating){this.setState({isAnimating:!0,isAnimatingNext:!0,isAnimatingPrev:!1}),this._animationTimer&&clearInterval(this._animationTimer);var t=this.getForwardIndex(1);this._animationTimer=setTimeout((function(){e.announce(t),e.onUpdateCallback(t),e.onNextTrackingCallback()}),300)}},t.prototype.onUpdateCallback=function(e){var t=this.props.onIndexChange;"function"==typeof t&&t(e)},t.prototype.onSwiping=function(e){var t=this.props.images,n=this.state.isInteractive&&t&&t.length>1;n&&"Left"===e.dir&&this.onNextCallback(),n&&"Right"===e.dir&&this.onPrevCallback()},t.prototype.getForwardIndex=function(e){var t=this.props.images;if(t&&t.length>0&&e>0){var n=this.currentIndex+e;return Math.abs(n%t.length)}return this.currentIndex},t.prototype.getBackwardIndex=function(e){var t=this.props.images;if(t&&t.length>0&&e>0){if(1===t.length)return 0;var n=this.currentIndex-e;return n>=0?n:Math.abs(t.length-Math.abs(n%t.length))}return 0},Object.defineProperty(t.prototype,"currentIndex",{get:function(){return this.state.currentIndex},set:function(e){this.setState({currentIndex:e})},enumerable:!1,configurable:!0}),t.prototype.announce=function(e){var t=this.props,n=t.images,a=t.l10n,i=this.state.currentIndex;this.setState({currentIndex:e,isAnimating:!1,isAnimatingNext:!1,isAnimatingPrev:!1}),(0,d.liveAnnounce)(a.formatText("mediagallery.imageChange",i+1,n.length,n[e].caption),d.Level.POLITE,void 0,this.contentRef,this.mediaGalleryLiveAnnounceId)},t.prototype.navWithArrowKeys=function(e){var t=37,n=39;e.keyCode===t?this.onPrevCallback():e.keyCode===n&&this.onNextCallback()},t.prototype.bindEvents=function(){document.body.addEventListener("keydown",this.navWithArrowKeys)},t.prototype.unbindEvents=function(){document.body.removeEventListener("keydown",this.navWithArrowKeys)},t.prototype.render=function(){var e=this.state,t=e.currentIndex,n=e.isAnimating,a=e.isAnimatingNext,r=e.isAnimatingPrev,d=this.props,g=d.images,p=d.l10n,v=d.videoAnalytics,k=d.stretchToFill,b=d.videoButtonText,x="";n&&(r?x="uitk-media-gallery-image-animating-prev":a&&(x="uitk-media-gallery-image-animating-next"));var E=g[t].caption||"",I="uitk-flex",A="uitk-media-gallery-image",C=y("".concat(A,"-prev"),I,"".concat(I,"-align-items-center")),N=y("".concat(A,"-next"),I,"".concat(I,"-align-items-center")),_="uitk-media-gallery-controls",T=y(_,"".concat(_,"-prev")),w=y(_,"".concat(_,"-next"));return g&&g.length>0&&l.createElement("div",{className:y("".concat(A,"-view"),x),ref:this.contentRef},g.length>1&&l.createElement(l.Fragment,null,l.createElement(h.E,(0,i.__assign)({},g[this.getBackwardIndex(1)],{className:C,ariaHidden:!0,stretchToFill:k})),l.createElement(o.mp,{onSwiping:this.onSwiping,delta:100},l.createElement(h.E,(0,i.__assign)({},g[this.currentIndex],{className:y("".concat(A,"-active")),videoAnalytics:v,videoButtonText:b,stretchToFill:k}))),l.createElement(h.E,(0,i.__assign)({},g[this.getForwardIndex(1)],{className:N,ariaHidden:!0,stretchToFill:k})),l.createElement(h.E,(0,i.__assign)({},g[this.getForwardIndex(2)],{className:y("".concat(A,"-queued")),ariaHidden:!0,stretchToFill:k})),l.createElement(u.v,{className:y("".concat(_,"-wrapper")),justifyContent:"space-between"},l.createElement(c.S,{className:T,onClick:this.onPrevCallback},l.createElement("span",{className:"is-visually-hidden","data-a11ytext":"true"},p.formatText("mediagallery.previousImage"))),l.createElement(s.Q,{className:w,onClick:this.onNextCallback},l.createElement("span",{className:"is-visually-hidden","data-a11ytext":"true"},p.formatText("mediagallery.nextImage"))))),1===g.length&&l.createElement(m.t,{minWidth:"full_width",shrink:0},l.createElement(h.E,(0,i.__assign)({},g[this.currentIndex],{className:y("uitk-media-gallery-image-active"),videoAnalytics:v,videoButtonText:b,stretchToFill:k}))),l.createElement(f.z,{imgCaption:E,currentIndex:t,imagesLength:g.length}))},t.defaultProps={currentIndex:0,stretchToFill:!0},t}(l.PureComponent),k=function(e){var t=(0,r.useLocalization)();return l.createElement(v,(0,i.__assign)({l10n:t},e))}},15681:function(e,t,n){n.d(t,{E:function(){return p}});var a=n(70655),i=n(67294),r=n(8470),l=n(96911),o=n(51330),c=n(2009),s=n(96116),u=n(41894),m=n(95785),d=n.n(m),g=c.classNames.bind(d()),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.stopTransitionPropagation=function(e){e.stopPropagation()},t.prototype.render=function(){var e,t=this.props,n=t.ariaHidden,a=t.className,c=t.alt,m=t.src,d=t.videoAnalytics,p=t.stretchToFill,h=t.videoButtonText,f=(0,s.XH)(m),y=g(a,"uitk-media-gallery-image",{"uitk-media-gallery-image-size-auto":!p&&!f}),v=g("uitk-image_media-gallery-image"),k=g("uitk-image-media_media-gallery-image");return e=a&&a.includes("uitk-media-gallery-image-active")?f?i.createElement(u.n,{alt:c,analytics:d,isDialog:!0,src:m,buttonText:h}):i.createElement(r.p,{className:k,alt:c,src:m,placeholderImage:p}):i.createElement(l.r,{className:k,alt:c,src:m,groupId:"media-gallery"}),i.createElement("div",{className:y,"aria-hidden":n,onTransitionEnd:this.stopTransitionPropagation},i.createElement(o.N,{key:m,ratio:o.N.AspectRatio.R16_9,className:v},e))},t.displayName="UitkMediaGalleryImage",t}(i.PureComponent)},40419:function(e,t,n){n.d(t,{h:function(){return d}});var a=n(70655),i=n(67294),r=n(85213),l=n(29097),o=n(2009),c=n(11389),s=n(95785),u=n.n(s),m=o.classNames.bind(u()),d=function(e){function t(t){var n=e.call(this,t)||this;return n.onImageSelect=n.onImageSelect.bind(n),n}return(0,a.__extends)(t,e),t.prototype.onImageSelect=function(e){(0,this.props.onImageSelected)(e)},t.prototype.render=function(){var e=this,t=this.props,n=t.focusIndex,o=t.images,s=t.columns,u=t.space,d=t.tag,g=t.className,p=t.imagesRatio,h=t.containerRef,f=m("uitk-media-gallery-thumbnail-view",g);return o?i.createElement(r.a,{tag:d,columns:s,className:f,space:u},o&&o.length>0&&o.map((function(t,r){return i.createElement(l.P,{key:r},i.createElement(c.i,(0,a.__assign)({},t,{index:r,imagesRatio:p,onImageSelected:function(){return e.onImageSelect(r)},focusIndex:n,containerRef:h})))}))):null},t.displayName="UitkMediaGalleryThumbnailView",t.defaultProps={columns:{auto_fill:"twenty_four"},focusIndex:0,space:"two",tag:"ul"},t}(i.PureComponent)},11389:function(e,t,n){n.d(t,{g:function(){return f},i:function(){return y}});var a=n(70655),i=n(29892),r=n(67294),l=n(56095),o=n(46605),c=n(51330),s=n(8470),u=n(27749),m=n(96116),d=n(2009),g=n(95785),p=n.n(g),h=d.classNames.bind(p()),f=function(e){var t=e.alt,n=e.src,i=e.onImageSelected,d=e.index,g=e.focusIndex,p=e.caption,f=e.l10n,y=e.imagesRatio,v=e.containerRef,k=r.useRef(null),b=r.useRef(null);r.useEffect((function(){var e=new IntersectionObserver((function(t){t[0].isIntersecting&&(null==k?void 0:k.current)&&n&&(k.current.setAttribute("src",n),k.current.removeAttribute("data-lazy"),e.disconnect())}),{root:null==v?void 0:v.current,rootMargin:"0px 0px 300px 0px"});return(null==k?void 0:k.current)&&e.observe(k.current),g===d&&(null==b?void 0:b.current)&&b.current.focus(),function(){e.disconnect()}}),[v,g,d,n]);var x=p?f.formatText("mediagallery.thumbnailWithCaption",p):f.formatText("mediagallery.thumbnailWithoutCaption",d+1),E={alt:t,src:(0,m.XH)(n)?(0,m._v)(n):"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",imgRef:k,additionalProps:{"data-lazy":!0}},I=g===d?b:void 0,A="uitk-media-gallery-thumbnail";return r.createElement("li",{className:h(A)},r.createElement(c.N,{ratio:y||c.N.AspectRatio.R1_1},r.createElement(s.p,(0,a.__assign)({placeholderImage:!0},E))),(0,m.XH)(n)?r.createElement(u.O,{position:{top:"center",left:"center"},type:"absolute"},r.createElement(l.n,{"aria-label":x,onClick:i},r.createElement(o.fR,{name:"play_arrow"}))):r.createElement("button",{type:"button",ref:I,className:h("".concat(A,"-link")),onClick:i},r.createElement("span",{className:"is-visually-hidden"},x)))},y=function(e){var t=(0,i.useLocalization)();return r.createElement(f,(0,a.__assign)({l10n:t},e))}}}]);
//# sourceMappingURL=node_modules~uitk-react-media-gallery.b55e4b98b659fc2819ff.js.map