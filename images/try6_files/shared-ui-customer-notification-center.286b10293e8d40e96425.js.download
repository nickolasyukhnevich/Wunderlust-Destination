/*@license For license information please refer to shared-ui-customer-notification-center.licenses.txt*/
(self.webpackChunkblossom_flex_ui=self.webpackChunkblossom_flex_ui||[]).push([[75908],{41861:function(e,n,t){t.d(n,{L:function(){return Ie}});var i=t(67294),o=t(66252),r=t(92787),l=t(71646),a=t(95878),c=t(98250),u=t(19633),s=t(13413),d=t(46605),m=t(10333),f=t(93351),v=t(30300),p=t(73030),y=t(20515),E=t(23984),b=t(91233),g=t(5419),k=t(26847),S=t(511),C=t(78917),h=t(22335),I=t(13943),w=t(41913),A=t(95128),x=t(35981),O=t(24499),_=t(97534),N=t(34353),z=t(8315),D=t(34778),T=t(95032),L=t(19719),R=t(69430),j=t(91618),M=t(49349),P=t(79221),U=t(64418),H=t(27749);function F(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function V(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function $(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){V(e,n,t[n])}))}return e}function B(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function G(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,o,r=[],l=!0,a=!1;try{for(t=t.call(e);!(l=(i=t.next()).done)&&(r.push(i.value),!n||r.length!==n);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==t.return||t.return()}finally{if(a)throw o}}return r}}(e,n)||Z(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function Y(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,n){if(e){if("string"==typeof e)return F(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?F(e,n):void 0}}function Q(){var e=K(["\n  mutation DeleteNotificationById($contextInput: ContextInput, $notificationId: String!) {\n    deleteNotificationById(context: $contextInput, notificationId: $notificationId) {\n      operationStatus\n    }\n  }\n"]);return Q=function(){return e},e}function q(){var e=K(["\n  mutation UpdateInboxState($contextInput: ContextInput, $ids: [String!]!, $state: NotificationState!) {\n    updateInboxState(context: $contextInput, notificationIds: $ids, state: $state) {\n      notificationId\n      operationStatus\n      notificationState\n    }\n  }\n"]);return q=function(){return e},e}function W(){var e=K(["\n  query NotificationCenterQuery($context: ContextInput!) {\n    notification(context: $context) {\n      notificationCenter {\n        unseen\n        redirectPath\n        revealActions {\n          __typename\n          ... on NotificationAnalytics {\n            description\n            referrerId\n          }\n        }\n        title {\n          completeText\n          items {\n            __typename\n            text\n            styles\n            ... on NotificationPhraseLinkNode {\n              id\n              type\n              uri {\n                __typename\n                value\n              }\n              target\n              actions {\n                __typename\n                ... on NotificationAnalytics {\n                  description\n                  referrerId\n                }\n              }\n            }\n          }\n        }\n        icon {\n          id\n          description\n        }\n        emptyState {\n          title {\n            completeText\n            items {\n              __typename\n              text\n              styles\n              ... on NotificationPhraseLinkNode {\n                id\n                type\n                uri {\n                  __typename\n                  value\n                }\n                target\n                actions {\n                  __typename\n                  ... on NotificationAnalytics {\n                    description\n                    referrerId\n                  }\n                }\n              }\n            }\n          }\n          body {\n            completeText\n            items {\n              __typename\n              text\n              styles\n              ... on NotificationPhraseLinkNode {\n                id\n                type\n                uri {\n                  __typename\n                  value\n                }\n                target\n                actions {\n                  __typename\n                  ... on NotificationAnalytics {\n                    description\n                    referrerId\n                  }\n                }\n              }\n            }\n          }\n          icon {\n            id\n            description\n          }\n        }\n        deleteActionForm {\n          title\n          sections {\n            title\n            fields {\n              label\n              __typename\n            }\n          }\n          feedbackMessages {\n            name\n            title\n            text\n            displayType\n            level\n          }\n        }\n        notifications {\n          type\n          subType\n          containerLink {\n            id\n            uri {\n              __typename\n              value\n            }\n            target\n            actions {\n              __typename\n              ... on NotificationAnalytics {\n                description\n                referrerId\n              }\n            }\n          }\n          logo {\n            url\n          }\n          backgroundImage {\n            url\n          }\n          title {\n            completeText\n            items {\n              __typename\n              text\n              styles\n              ... on NotificationPhraseLinkNode {\n                id\n                type\n                uri {\n                  __typename\n                  value\n                }\n                target\n                actions {\n                  __typename\n                  ... on NotificationAnalytics {\n                    description\n                    referrerId\n                  }\n                }\n              }\n            }\n          }\n          body {\n            completeText\n            items {\n              __typename\n              text\n              styles\n              ... on NotificationPhraseLinkNode {\n                id\n                type\n                uri {\n                  __typename\n                  value\n                }\n                target\n                actions {\n                  __typename\n                  ... on NotificationAnalytics {\n                    description\n                    referrerId\n                  }\n                }\n              }\n            }\n          }\n          icon {\n            id\n            description\n          }\n          revealActions {\n            __typename\n            ... on NotificationAnalytics {\n              description\n              referrerId\n            }\n            ... on NotificationMarketing {\n              marketingCode\n              marketingCodeDetail\n            }\n          }\n          links {\n            text\n            uri {\n              __typename\n              value\n            }\n            actions {\n              __typename\n              ... on NotificationAnalytics {\n                description\n                referrerId\n              }\n            }\n          }\n          state\n          timeStamp\n          notificationId\n          userActions {\n            __typename\n            type\n            text\n            icon {\n              id\n              description\n              title\n            }\n            actions {\n              __typename\n              ... on NotificationAnalytics {\n                description\n                referrerId\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return W=function(){return e},e}function J(){var e=K(["\n  query NotificationCenterGlobalHeaderQuery(\n    $context: ContextInput!\n    $viewSize: HeaderViewSize\n    $lineOfBusiness: GlobalNavigationLineOfBusiness\n    $layout: HeaderLayout\n  ) {\n    globalHeader(context: $context, viewSize: $viewSize, lineOfBusiness: $lineOfBusiness, layout: $layout) {\n      redDotState @client\n    }\n  }\n"]);return J=function(){return e},e}var X=function(e,n){var t=function(e){var t,i=null===(t=n.payload)||void 0===t?void 0:t.find((function(n){return n.notificationId===e.notificationId}));return null!=i},i=function(n){var i;return(null!==(i=null==e?void 0:e.notificationsList)&&void 0!==i?i:[]).map((function(e){return t(e)?B($({},e),{state:n}):e}))};switch(n.action){case 0:return B($({},e),{notificationsList:i("SEEN"),unseenCount:0});case 1:return B($({},e),{notificationsList:i("READ"),unseenCount:0});case 2:var o;return B($({},e),{notificationsList:(null!==(o=e.notificationsList)&&void 0!==o?o:[]).filter((function(e){return!t(e)})),unseenCount:0});default:return{notificationsList:[],unseenCount:0}}},ee=(0,i.createContext)({lineOfBusiness:"UNKNOWN",notificationCenterObject:{notificationsList:[],unseenCount:0},viewSize:null,dispatch:function(){return[]}}),ne=function(e){var n=e.notificationCenterObject,t=e.lineOfBusiness,o=e.viewSize,r=e.children,l=G((0,i.useReducer)(X,{notificationsList:n.notificationsList,unseenCount:n.unseenCount}),2),a=l[0],c=l[1];return i.createElement(ee.Provider,{value:(0,i.useMemo)((function(){return{notificationCenterObject:a,dispatch:c,lineOfBusiness:t,viewSize:o}}),[a,c,t,o])},r||null)},te=function(){return i.useContext(ee)},ie=function(e,n,t){if(e){var i=[];e.forEach((function(e){"NotificationAnalytics"===e.__typename&&(i=i.concat(e))})),n&&i.forEach((function(e){var i=e.referrerId;t&&(i="".concat(e.referrerId,".Click")),n(i,e.description||"")}))}},oe=function(e){var n="";if(null!==window.location){var t=window.location.pathname?window.location.pathname:"",i=window.location.search?window.location.search:"",o=window.location.hash?window.location.hash:"",r=t.concat(i,o);n="&uurl=".concat(encodeURIComponent("e3id=redr&rurl=".concat(r)))}return e+n},re=function(e){var n,t,o=e.ncIcon,r=e.emptyState;return i.createElement(E.v,{alignContent:"center",justifyContent:"center",direction:"column",blockSize:"full_size"},i.createElement(y.U,{padded:!1},i.createElement(f.l,{padding:{inlinestart:"four",inlineend:"four"}},i.createElement("div",null,i.createElement(b.t,{alignSelf:"center"},i.createElement("section",null,i.createElement(v.b,{align:"center"},i.createElement(d.fR,{name:o,size:d.eZ.LARGE})),i.createElement(f.l,{padding:{blockstart:"four",blockend:"four"}},i.createElement(g.y,{align:"center",tag:"h1",size:5},null==r||null===(n=r.title)||void 0===n?void 0:n.items[0].text)),i.createElement(v.b,{align:"center",size:300},null==r||null===(t=r.body)||void 0===t?void 0:t[0].items[0].text)))))))},le=function(e){var n,t,o,r,l=e.notification,a=e.onClick,c=e.children,u=(null===(t=l.links)||void 0===t||null===(n=t[0].uri)||void 0===n?void 0:n.value)?null===(r=l.links)||void 0===r||null===(o=r[0].uri)||void 0===o?void 0:o.value:"#";return i.createElement("a",{href:u,target:"_blank",rel:"noopener noreferrer",onClick:a},c)},ae=function(e){var n=e.name,t=e.buttonSize,o=e.iconSize,r=e.onClick;return i.createElement(z.m,{size:t,onClick:r},i.createElement(d.fR,{name:n,size:o}))},ce=function(e){var n=e.sheetState,t=e.onSheetOpenTriggerClick,o=e.actionItems;return i.createElement(i.Fragment,null,i.createElement(ae,{name:"more_vert",buttonSize:s.xY.MEDIUM,iconSize:d.eZ.MEDIUM,onClick:t}),n&&i.createElement("div",{tabIndex:0,role:"button",onKeyDown:t,onClick:t},i.createElement(O.o,{type:_.k.OVERLAY,color:_.b.PRIMARY})),i.createElement(w.U,{isVisible:n},i.createElement(N.K,{isVisible:n,triggerRef:null},i.createElement(f.l,{padding:{block:"three"}},i.createElement("div",null,i.createElement(x.d,{items:o}))))))},ue=function(e){var n=e.menuState,t=e.onMenuOpenTriggerClick,o=e.actionItems,r=e.actionState,l=e.setActionState,a=i.useRef(null);return i.useEffect((function(){var e=function(e){var t;!(null===(t=a.current)||void 0===t?void 0:t.contains(e.target))&&n&&l(new Array(r.length).fill(!1))};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[a,r,n,l]),i.createElement("div",{ref:a},i.createElement(D.p,{isOpen:n},i.createElement(T.H,null,i.createElement(ae,{name:"more_vert",buttonSize:s.xY.MEDIUM,iconSize:d.eZ.MEDIUM,onClick:t})),i.createElement(L.a,{position:L.d.RIGHT},i.createElement(x.d,{items:o}))))},se=(0,R.Ps)(Q());function de(e,n,t,i){return e({variables:{contextInput:n,ids:t,state:i}})}var me=(0,R.Ps)(q()),fe=function(e){var n=function(e){var n;return{attributes:{role:"menuitem",tabindex:0},className:"uitk-list-item",icon:{name:null===(n=e.icon)||void 0===n?void 0:n.id},label:e.text,onClick:P,typeAnchor:!0}},t=function(e,n){var t;return{attributes:{role:"menuitem",tabindex:0},className:"uitk-list-item",icon:{name:null===(t=e.icon)||void 0===t?void 0:t.id},onClick:n,label:e.text,typeAnchor:!0}},o=function(){var e=s.state,i=s.userActions;return i&&3===i.length?"READ"===e?function(e){return[n(e[0]),t(e[2],(function(){return H(e[2])}))]}(i):function(e){return[n(e[0]),t(e[1],(function(){return U(e[1])}))]}(i):[]},r=e.deleteActionForm,s=e.notification,d=e.actionState,m=e.setActionState,f=e.index,v=e.setMenuClickHandlerState,y=null!=r?r:{},E=y.title,b=void 0===E?"":E,k=y.sections,S=void 0===k?[]:k,x=new Array(d.length).fill(!1),O=te().dispatch,_=(0,a.v)().context,N=G((0,p.useDialog)("notification-center-delete-action-".concat(s.notificationId),"notificationCenterDeleteDialog"),3),z=N[0],D=N[1],T=N[2],L=G((0,l.D)(se),1)[0],R=G((0,l.D)(me),1)[0],j=(0,c.useClickTracker)(),M=function(){d[f]||j("Web.Notification.InApp.ActionList.Click","user action list click");var e=Y(x);e[f]=!d[f],m(e)};i.useEffect((function(){var e=function(e){v&&v(e)};e(!!z)}),[z,v]);var P=function(){m(x),D.openDialog()},U=function(e){ie(e.actions,j,!1),m(x),O({action:1,payload:[s]}),de(R,_,[s.notificationId||""],"READ")},H=function(e){ie(e.actions,j,!1),m(x),O({action:0,payload:[s]}),de(R,_,[s.notificationId||""],"SEEN")};return i.createElement(i.Fragment,null,i.createElement(u.Viewport,null,i.createElement(u.ViewMedium,null,i.createElement(ue,{menuState:d[f],onMenuOpenTriggerClick:function(){return M()},actionItems:o(),actionState:d,setActionState:m})),i.createElement(u.ViewSmall,null,i.createElement(ce,{sheetState:d[f],onSheetOpenTriggerClick:function(){return M()},actionItems:o()}))),z&&i.createElement(w.U,{isVisible:z},i.createElement(T,null,i.createElement(C.A,{dialogShow:z,returnFocusOnClose:!0,autoFocus:!0},i.createElement(h.D,null,i.createElement(g.y,{tag:"h1",size:5,key:"dialogHeading"},b),i.createElement(A.a,{key:"dialogParagraph",size:2},S[0].title),i.createElement(I.Q,{key:"UitkDialogFooter",stacked:!0,buttonOne:{onClick:function(){var e,n;ie(null==(e=s)||null===(n=e.userActions)||void 0===n?void 0:n[0].actions,j,!1),O({action:2,payload:[e]}),m(x),D.closeDialog(),function(e,n,t){e({variables:{contextInput:n,notificationId:t}})}(L,_,s.notificationId||"")},text:S[0].fields[0].label,type:"primary"},buttonTwo:{onClick:function(){m(x),D.closeDialog()},text:S[0].fields[1].label,type:"tertiary"}}))))))},ve=function(e){var n,t,o=e.deleteActionForm,r=e.setMenuClickHandlerState,u=te().notificationCenterObject,s=(0,a.v)().context,m=(0,c.useClickTracker)(),p=te().dispatch,C=G((0,l.D)(me),1)[0],h=function(e){ie(e.revealActions,m,!0),"READ"!==e.state&&(p({action:1,payload:[e]}),de(C,s,[e.notificationId],"READ"))},I=new Array(null===(n=u.notificationsList)||void 0===n?void 0:n.length).fill(!1),w=G(i.useState(I),2),A=w[0],x=w[1];return i.createElement(i.Fragment,null,null===(t=u.notificationsList)||void 0===t?void 0:t.map((function(e,n){var t,l,a,c,u,s,m,p,C,I,w,O,_,N,z,D,T;return i.createElement("div",{key:"notifications-cell-".concat(n),"data-stid":"notifications-cell"},i.createElement(f.l,{padding:{block:"three",inlinestart:"one",inlineend:"half"}},i.createElement(E.v,null,i.createElement(b.t,{alignSelf:"start",grow:0},i.createElement(le,{notification:e,onClick:function(){return h(e)}},i.createElement(y.U,{padded:["blockstart","blockend","inlinestart"]},i.createElement(f.l,{margin:{blockstart:"one"}},i.createElement(k.x,{visible:"SEEN"===e.state}))))),i.createElement(b.t,{alignSelf:"start",grow:0},i.createElement(le,{notification:e,onClick:function(){return h(e)}},i.createElement(y.U,{"data-stid":"notification-center-lob-icon",padded:["blockstart","blockend","inlinestart"]},e.icon&&i.createElement(d.fR,{name:null===(t=e.icon)||void 0===t?void 0:t.id,size:d.eZ.MEDIUM})))),i.createElement(b.t,{grow:1},i.createElement(y.U,{padded:["blockstart","blockend","inlinestart"]},i.createElement(S.o,null,i.createElement("a",{href:(null===(a=e.links)||void 0===a||null===(l=a[0].uri)||void 0===l?void 0:l.value)?null===(u=e.links)||void 0===u||null===(c=u[0].uri)||void 0===c?void 0:c.value:"#",target:"_blank",rel:"noopener noreferrer",onClick:function(){return h(e)}},null===(m=e.title)||void 0===m||null===(s=m.items)||void 0===s?void 0:s[0].text)),(null===(C=e.title)||void 0===C||null===(p=C.items)||void 0===p?void 0:p[0].text)&&i.createElement(g.y,{tag:"h2",size:5},null===(w=e.title)||void 0===w||null===(I=w.items)||void 0===I?void 0:I[0].text),(null===(N=e.body)||void 0===N||null===(_=N[0])||void 0===_||null===(O=_.items)||void 0===O?void 0:O[0].text)&&i.createElement(f.l,{padding:{blockstart:"two"}},i.createElement(v.b,{overflow:"truncate-3-lines",size:300,theme:"standard",weight:"SEEN"===e.state?"bold":"regular"},null===(T=e.body)||void 0===T||null===(D=T[0])||void 0===D||null===(z=D.items)||void 0===z?void 0:z[0].text)),e.timeStamp&&i.createElement(f.l,{padding:{blockstart:"two"}},i.createElement(v.b,{size:100,theme:"standard",spacing:"two"},null==e?void 0:e.timeStamp)))),i.createElement(b.t,null,i.createElement(y.U,{padded:["blockstart","blockend","inlineend"]},i.createElement(fe,{deleteActionForm:o,notification:e,actionState:A,setActionState:x,index:n,setMenuClickHandlerState:r}))))))})))},pe=function(e){var n=e.ncIcon,t=e.emptyState,o=e.deleteActionForm,r=e.setMenuClickHandlerState,l=te().notificationCenterObject;return l.notificationsList&&0!==l.notificationsList.length?i.createElement(ve,{deleteActionForm:o,setMenuClickHandlerState:r}):i.createElement(u.Viewport,null,i.createElement(u.ViewMedium,null,i.createElement("div",{style:{height:450}},i.createElement(re,{ncIcon:n,emptyState:t}))),i.createElement(u.ViewSmall,null,i.createElement("div",{style:{height:500}},i.createElement(re,{ncIcon:n,emptyState:t}))))},ye=(0,R.Ps)(W()),Ee=(0,R.Ps)(J()),be=function(e){var n=e.ncTitle,t=e.ncRevealActions,r=e.children,l=e.isDialogOpen,u=e.dialogActions,s=e.DialogComponent,d=e.onClick,p=te(),y=p.notificationCenterObject,g=p.lineOfBusiness,k=p.viewSize,S=p.dispatch,C=(0,o.x)(),h=(0,a.v)().context,I=i.useRef(null),A=null==t?void 0:t[1],x=(null==A?void 0:A.referrerId)||"",O=(null==A?void 0:A.description)||"",_=null!==y.unseenCount&&y.unseenCount>0,z=i.createElement(E.v,null,i.createElement(b.t,null,i.createElement(v.b,{size:300,theme:"standard"},n)),i.createElement(b.t,null,_&&i.createElement(c.IntersectionTracker,{referrerId:x,linkName:O},i.createElement(j.k,{visible:!0}))));return i.createElement(i.Fragment,null,i.createElement(f.l,{padding:{block:"three",inline:"six"}},i.createElement(m.M,{onClick:function(){C.writeQuery({query:Ee,data:{globalHeader:{redDotState:"NOT_VISIBLE"}},variables:{context:h,viewSize:k,lineOfBusiness:g}}),d(y,S),u.toggleDialog()},domRef:I},i.createElement("button",{type:"button"},z))),l&&i.createElement(w.U,{isVisible:l},i.createElement(s,null,i.createElement(N.K,{type:"full",isVisible:l,triggerRef:I,returnFocusOnClose:!0},i.createElement(P.b,{navigationContent:{onClick:u.closeDialog,navType:"close"},toolbarTitle:n}),i.createElement(M.z,{padded:!1},r)))))},ge=function(e){var n=e.ncTitle,t=e.ncIcon,o=e.ncRevealActions,r=e.emptyState,l=e.deleteActionForm,a=e.onClick,c=G((0,p.useDialog)("notification-center-settings"),3),u=c[0],s=c[1],d=c[2];return i.createElement(be,{ncTitle:n,ncRevealActions:o,isDialogOpen:u,dialogActions:s,DialogComponent:d,onClick:a},i.createElement(pe,{ncIcon:t,emptyState:r,deleteActionForm:l}))};ge.displayName="sharedui-NotificationCenterDialog";var ke=function(e){var n=e.name,t=e.buttonSize,o=e.iconSize,r=e.onClick,l=e.description,a=te().notificationCenterObject,c=(0,U.useExperiment)("Shared_UI_Remove_Deprecated_UITK_Nav_Button").exposure.bucket>0?"uitk-button-only-icon":"uitk-button-only-icon global-navigation-nav-button";return i.createElement(z.m,{className:c,size:t,onClick:r},i.createElement(H.O,{display:"inline-block",type:"relative"},i.createElement(d.fR,{name:n,size:o,id:"".concat(n,"-icon"),title:l}),i.createElement(H.O,{cloneElement:!0,position:{right:"zero",top:"zero"},type:"absolute"},i.createElement(j.k,{visible:null!==a.unseenCount&&a.unseenCount>0}))))},Se=function(e){var n=e.ncTitle,t=e.ncIcon,o=e.ncRevealActions,r=e.children,l=e.isOpen,a=e.setOpen,u=e.onClick,m=e.menuClickHandlerState,f=e.ncDescription,v=te(),p=v.notificationCenterObject,E=v.dispatch,k=null==o?void 0:o[1],S=(null==k?void 0:k.referrerId)||"",C=(null==k?void 0:k.description)||"",h=null!==p.unseenCount&&p.unseenCount>0,I=(0,U.useExperiment)("Shared_UI_Remove_Deprecated_UITK_Nav_Button").exposure.bucket>0?"uitk-button-only-icon":"uitk-button-only-icon global-navigation-nav-button";return i.createElement(b.t,{minWidth:"zero",grow:0},i.createElement(D.p,{isOpen:l,onTriggerClick:function(){a(!l)},disableBodyClickHandler:m},i.createElement(T.H,null,i.createElement(z.m,{className:I,size:s.xY.LARGE,onClick:function(){l||u(p,E)},id:"".concat(t,"-button")},i.createElement(H.O,{display:"inline-block",type:"relative"},i.createElement(d.fR,{name:t,size:d.eZ.LARGE,id:"".concat(t,"-icon"),title:f}),i.createElement(H.O,{cloneElement:!0,position:{right:"zero",top:"zero"},type:"absolute"},h&&i.createElement(c.IntersectionTracker,{referrerId:S,linkName:C},i.createElement(j.k,{visible:!0})))))),i.createElement(L.a,{position:L.d.RIGHT,autoPosition:!0,width:375,maxHeight:576},i.createElement("div",{style:{height:576},role:"menu"},i.createElement(y.U,{padded:!0,border:"bottom"},i.createElement(g.y,{size:5,tag:"h1"},n)),r))))},Ce=function(e){var n=e.ncTitle,t=e.ncIcon,o=e.ncRevealActions,r=e.emptyState,l=e.deleteActionForm,a=e.onClick,c=e.ncDescription,u=G(i.useState(!1),2),s=u[0],d=u[1],m=G(i.useState(!1),2),f=m[0],v=m[1];return i.createElement(Se,{ncTitle:n,ncRevealActions:o,ncIcon:t,isOpen:s,setOpen:d,onClick:a,menuClickHandlerState:f,ncDescription:c},i.createElement(pe,{ncIcon:t,emptyState:r,deleteActionForm:l,setMenuClickHandlerState:v}))};Ce.displayName="sharedui-NotificationCenterMenu";var he=ye,Ie=function(e){var n,t,p,y,E,b=e.inputs,g=e.skipSsr,k=b.lineOfBusiness,S=b.viewSize,C=(0,a.v)().context,h=(0,o.x)(),I={context:C},w=(0,r.a)(he,{variables:I,ssr:!g,onCompleted:function(e){var n,t,i,o=null==e||null===(t=e.notification)||void 0===t||null===(n=t.notificationCenter)||void 0===n?void 0:n.unseen;null!==o&&o>0&&"AUTHENTICATED"===(null==C||null===(i=C.identity)||void 0===i?void 0:i.authState)&&h.writeQuery({query:Ee,data:{globalHeader:{redDotState:"VISIBLE"}},variables:{context:C,viewSize:S,lineOfBusiness:k}})}}),A=w.data,x=w.error,O=w.loading,_=G((0,l.D)(me),1)[0],N=(0,c.useClickTracker)();if(O||x||!A)return null;var z,D=null==A||null===(n=A.notification)||void 0===n?void 0:n.notificationCenter,T=null===(p=D.title)||void 0===p||null===(t=p.items[0])||void 0===t?void 0:t.text,L=null!==(z=null==D?void 0:D.revealActions)&&void 0!==z?z:[],R=null===(y=D.icon)||void 0===y?void 0:y.id,j=null===(E=D.icon)||void 0===E?void 0:E.description,M=null==D?void 0:D.unseen,P=D.emptyState,U=D.deleteActionForm,H=D.notifications,F=D.redirectPath;if(!(T&&R&&P&&U&&H))return null;var V=function(){var e=D.revealActions;if(e&&(null==e?void 0:e.length)>0){var n=new Array(1).fill(e[0]);ie(n,N,!1)}},$=function(e,n){var t;V();var i,o=null===(t=e.notificationsList)||void 0===t?void 0:t.filter((function(e){return"UNSEEN"===(null==e?void 0:e.state)}));if(o&&o.length>0){n({action:0,payload:o});var r=(null==(i=o)?void 0:i.map((function(e){return e.notificationId||""})).filter((function(e){return""!==e})))||[];r&&r.length>0&&de(_,C,r,"SEEN")}!function(e,n){if(n){var t="Web.Notification.NC.Opened.".concat(n.length);e(t,"Notification Screen load"),n.length>0&&n.forEach((function(n){ie(n.revealActions,e,!1)}))}}(N,e.notificationsList)};return F&&F.length>0?i.createElement(ne,{notificationCenterObject:{notificationsList:H,unseenCount:M||0},lineOfBusiness:k,viewSize:S},i.createElement("a",{href:oe(F),"aria-label":T},i.createElement(u.Viewport,null,i.createElement(u.ViewMedium,null,i.createElement(ke,{name:R,buttonSize:s.xY.LARGE,iconSize:d.eZ.LARGE,onClick:V,description:null!=j?j:T})),i.createElement(u.ViewSmall,null,i.createElement(f.l,{padding:{block:"three",inline:"six"}},i.createElement(m.M,{className:"uitk-list-item"},i.createElement("button",{type:"button",onClick:V},i.createElement(v.b,{size:300,theme:"standard"},T)))))))):i.createElement(ne,{notificationCenterObject:{notificationsList:H,unseenCount:M||0},lineOfBusiness:k,viewSize:S},i.createElement(u.Viewport,null,i.createElement(u.ViewMedium,null,i.createElement(Ce,{ncTitle:T,ncRevealActions:L,ncIcon:R,emptyState:P,deleteActionForm:U,onClick:$,ncDescription:null!=j?j:T})),i.createElement(u.ViewSmall,null,i.createElement(ge,{ncTitle:T,ncRevealActions:L,ncIcon:R,emptyState:P,deleteActionForm:U,onClick:$}))))};Ie.displayName="sharedui-NotificationCenter"}}]);
//# sourceMappingURL=shared-ui-customer-notification-center.286b10293e8d40e96425.js.map