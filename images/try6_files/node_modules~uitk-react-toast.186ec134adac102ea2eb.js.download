/*@license For license information please refer to node_modules~uitk-react-toast.licenses.txt*/
(self.webpackChunkblossom_flex_ui=self.webpackChunkblossom_flex_ui||[]).push([[57893],{12117:function(){},66336:function(t,e,n){n.r(e),n.d(e,{TimerSetting:function(){return i.P},UitkToast:function(){return i.C}});var i=n(39709)},39709:function(t,e,n){n.d(e,{C:function(){return d},P:function(){return i}});var i,o=n(70655),s=n(67294),r=n(45338),a=n(64317),c=n(3774),l=n(8315),u=n(2009),p=n(12117),m=n.n(p),h=u.classNames.bind(m());!function(t){t[t.long=8e3]="long",t[t.short=4e3]="short"}(i||(i={}));var d=function(t){function e(e){var n=t.call(this,e)||this;return n.state={show:e.show,stateIsDerived:!1},n.toastRef=s.createRef(),n.actionRef=s.createRef(),n.dismissToast=n.dismissToast.bind(n),n.manuallyDismissToast=n.manuallyDismissToast.bind(n),n.clearTimer=n.clearTimer.bind(n),n.onEntered=n.onEntered.bind(n),n.onEntering=n.onEntering.bind(n),n.onExit=n.onExit.bind(n),n.onExited=n.onExited.bind(n),n.onExiting=n.onExiting.bind(n),n.startTimer=n.startTimer.bind(n),n.liveAnnounceMsg=n.liveAnnounceMsg.bind(n),n.handleScroll=(0,c.throttle)(100,n.handleScroll.bind(n)),n}return(0,o.__extends)(e,t),e.prototype.componentDidUpdate=function(){this.state.show||this.clearTimer()},e.prototype.componentWillUnmount=function(){this.clearTimer(),window.removeEventListener("scroll",this.handleScroll)},e.getDerivedStateFromProps=function(t,e){return{show:!(!e.stateIsDerived&&!e.show)&&t.show,stateIsDerived:!0}},e.prototype.handleScroll=function(){window.removeEventListener("scroll",this.handleScroll),this.startTimer()},e.prototype.onExit=function(){var t=this.props;if(t.verticalOffset){var e=t.verticalOffset;this.toastRef.current.parentElement.style.transform="translateY(-".concat(e+150,"px)")}},e.prototype.onExited=function(){this.resetLiveAnnounceMsg()},e.prototype.onExiting=function(){var t=this.props;if(t.verticalOffset){var e=t.verticalOffset;this.toastRef.current.parentElement.style.transform="translateY(".concat(e,"px)")}},e.prototype.onEntered=function(){this.setFocusAndLiveAnnounce();var t=this.props;if(t.verticalOffset){var e=t.verticalOffset;this.toastRef.current.parentElement.style.transform="translateY(-".concat(e,"px)")}},e.prototype.onEntering=function(){var t=this.props;if(t.verticalOffset){var e=t.verticalOffset;this.toastRef.current.parentElement.style.transform="translateY(-".concat(e+150,"px)")}},e.prototype.setFocus=function(t){t&&t.current&&t.current.focus()},e.prototype.setFocusAndLiveAnnounce=function(){var t=this.props,e=t.actionCallback;t.actionText&&e?(this.setFocus(this.actionRef),window.addEventListener("scroll",this.handleScroll)):(this.liveAnnounceMsg(),this.startTimer())},e.prototype.clearTimer=function(){clearTimeout(this.timedToast)},e.prototype.startTimer=function(){var t=this,e=this.props,n=e.autoHideTimer||i.short;this.clearTimer(),e.autoHide&&(this.timedToast=setTimeout((function(){t.dismissToast()}),n))},e.prototype.resetLiveAnnounceMsg=function(){(0,u.liveAnnounce)("",u.Level.POLITE)},e.prototype.liveAnnounceMsg=function(){var t,e=this.props.children;s.Children.map(e,(function(e){e&&(t=e)})),(0,u.liveAnnounce)(t,u.Level.POLITE)},e.prototype.isInViewport=function(t){var e=t.getBoundingClientRect(),n=e.bottom,i=e.left,o=e.right,s=e.top,r=window.innerHeight||document.documentElement.clientHeight,a=window.innerWidth||document.documentElement.clientWidth;return s>=0&&i>=0&&o<=a&&n<=r},e.prototype.hasManuallyFocused=function(){return!(!document.activeElement||document.activeElement===this.toastRef.current||document.activeElement===this.actionRef.current||"BODY"===document.activeElement.tagName)},e.prototype.dismissToast=function(){var t=this.props,e=t.onCloseRef,n=t.onDismiss;this.state.show&&"function"==typeof n&&n&&n(),e&&e.current&&this.isInViewport(e.current)&&!this.hasManuallyFocused()&&this.setFocus(e),this.clearTimer(),this.setState({show:!1,stateIsDerived:!1}),window.removeEventListener("scroll",this.handleScroll)},e.prototype.manuallyDismissToast=function(){var t=this.props.actionCallback;t&&t(),this.dismissToast()},e.prototype.render=function(){var t=this.props,e=t.actionCallback,n=t.actionText,i=t.children,o=t.stacked,c=this.state.show,u=!(!n||!e),p=h("uitk-toast-action-container"),m=h("uitk-toast-inner-wrapper",{"uitk-toast-inner-wrapper-stacked":o}),d=h("uitk-toast","uitk-toast-slide"),f=h("uitk-toast-content"),v="string"==typeof i?"".concat(i," ").concat(n):n;return s.createElement(a.CSSTransition,{classNames:{appear:h("uitk-toast-appear"),appearActive:h("uitk-toast-appear-active"),enter:h("uitk-toast-enter"),enterActive:h("uitk-toast-enter-active"),enterDone:h("uitk-toast-enter-done"),exit:h("uitk-toast-exit"),exitActive:h("uitk-toast-exit-active")},delay:"0",duration:"500",appear:!0,mountOnEnter:!1,in:c,unmountOnExit:!0,timeout:{enter:300,exit:500},onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExited:this.onExited,onExiting:this.onExiting},s.createElement(r.mp,{"data-control":"uitk-toast",className:d,onSwiped:this.manuallyDismissToast},s.createElement("div",{className:m,ref:this.toastRef,onMouseEnter:this.clearTimer,onMouseLeave:this.startTimer,onFocus:this.clearTimer,onBlur:this.startTimer},s.createElement("span",{className:f},i),u&&s.createElement("div",{className:p},s.createElement(l.m,{type:"button",onClick:this.manuallyDismissToast,onMouseEnter:this.clearTimer,onMouseLeave:this.startTimer,onFocus:this.clearTimer,onBlur:this.startTimer,className:h("uitk-toast-button"),domRef:this.actionRef,"aria-label":v,inverse:!0},n)))))},e.displayName="UitkToast",e.defaultProps={show:!1,autoHide:!0,stacked:!1},e}(s.PureComponent)}}]);
//# sourceMappingURL=node_modules~uitk-react-toast.186ec134adac102ea2eb.js.map