/*@license For license information please refer to shared~TravelersField.licenses.txt*/
(self.webpackChunkblossom_flex_ui=self.webpackChunkblossom_flex_ui||[]).push([[52302],{92413:function(e,t,n){var a;n.d(t,{J:function(){return a}}),function(e){e.IN_SEAT="seat",e.ON_LAP="lap"}(a||(a={}))},70674:function(e,t,n){var a;n.d(t,{m:function(){return a}}),function(e){e.FLIGHT_SEARCH="FLIGHT_SEARCH",e.HOTWIRE_FLIGHT_SEARCH="HOTWIRE_FLIGHT_SEARCH",e.HOTEL_SEARCH="HOTEL_SEARCH",e.HOTWIRE_HOTEL_SEARCH="HOTWIRE_HOTEL_SEARCH",e.PACKAGE_SEARCH="PACKAGE_SEARCH",e.HOTWIRE_PACKAGE_SEARCH="HOTWIRE_PACKAGE_SEARCH",e.CRUISE_SEARCH="CRUISE_SEARCH",e.GROUND_TRANSPORT_SEARCH="GROUND_TRANSPORT_SEARCH",e.CAR_SEARCH="CAR_SEARCH",e.THIRD_SEARCH="THIRD_SEARCH",e.NONE="NONE"}(a||(a={}))},83996:function(e,t,n){n.d(t,{P:function(){return Oe}});var a=n(67294),r=n(73030),i=n(36695),o=n(29323),l=n(45431),c=n(68949),u=n(38499),s=n(9260),d=n(37715),m=n(32234),f=n(57510),h=n(39348),g=n(88748),v=n(96580),p=n(85518),S=n(29892),E=(0,o.observer)((function(e){var t=e.onChange,n=e.id,r=e.labelKey,i=e.dataTestid,o=e.children,c=e.ageOptions,u=e.padding,s=e.menuIndex,d=(0,S.useLocalization)().formatText,m=function(e){var n=+e.currentTarget.id.slice(-1);t(s,n)(e)};return a.createElement("div",null,a.createElement(p.UitkSpacing,{padding:u},a.createElement(v.UitkLayoutGrid,{columns:2,space:"two","data-testid":i},o.map((function(e,t){var i=d(r,t+1),o="".concat(n,"-").concat(s,"-").concat(t),u=isNaN(+o.slice(-1))?"".concat(t):o;return a.createElement(v.UitkLayoutGridItem,{colSpan:1,key:t},a.createElement(l.UitkSelect,{label:i,value:-1===e.age?"":e.age.toString(),onChange:m,id:u,emptyState:!0},c.map((function(e){return a.createElement("option",{key:e.value,value:e.value},e.name)}))))})))))})),k="wizard.roomPicker.roomPickerOpened.liveAnnounce",T="wizard.roomPicker.roomAdded.liveAnnounce",R="wizard.roomPicker.roomRemoved.liveAnnounce",A="wizard.roomPicker.doneButton.label",O="wizard.roomPicker.addRoomButton.label",C="wizard.roomPicker.removeRoomButton.label",I="wizard.roomPicker.removeRoomButton.a11yLabel",y="wizard.roomPicker.childAgeInput.label",b="wizard.roomPicker.infantAgeInput.label",w="wizard.roomPicker.room.title",x="wizard.roomPicker.room.a11yLabel",P="wizard.roomPicker.childUpdated.liveAnnounce",H="wizard.roomPicker.infantUpdated.liveAnnounce",_="wizard.roomPicker.decreaseAdults.text",U="wizard.roomPicker.decreaseChildren.text",L="wizard.roomPicker.decreaseInfants.text",z="wizard.roomPicker.decreaseAdultsInRoom.text",F="wizard.roomPicker.decreaseChildrenInRoom.text",N="wizard.roomPicker.decreaseInfantsInRoom.text",G="wizard.roomPicker.adults.text",j="wizard.roomPicker.increaseAdults.text",B="wizard.roomPicker.increaseChildren.text",D="wizard.roomPicker.increaseInfant.text",K="wizard.roomPicker.increaseAdultsInRoom.text",W="wizard.roomPicker.increaseChildrenInRoom.text",J="wizard.roomPicker.increaseInfantInRoom.text",V="wizard.roomPicker.children.text",M="wizard.roomPicker.infants.text",Y="wizard.airline.children.seatRules",Q="wizard.airline.children.seatRulesPlural",X="wizard.airline.children.seatOption.inSeat",Z="wizard.airline.children.seatOption.onLap",q="wizard.airline.ageRules.label",$=n(93239),ee=n(81721),te=function(){return te=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},te.apply(this,arguments)},ne=(0,o.inject)("analytics","context")((function(e){var t,n=a.createRef();e.roomRefs.push(n);var r,o=(0,S.useLocalization)().formatText,l=function(e,t,n,a){var r=t.adults,i=t.children;return e?a+Math.min(n,e-(r+i.length)):n},c=(0,$.uY)(e.lobState.trackingEnabled,e.analytics,e.lobState.moduleName),u="guests.",d=e.lobState.config.elementId||"",m=d.includes("flight"),f=d.includes("car"),v=m||f?o(j):o(K,e.index+1),k=m||f?o(_):o(z,e.index+1),T=m||f?o(B):o(W,e.index+1),A=m||f?o(U):o(F,e.index+1),O=m||f?o(D):o(J,e.index+1),Y=m||f?o(L):o(N,e.index+1),Q=1===e.index?"six":"unset",X=1===e.index?"two":"unset";return a.createElement(p.UitkSpacing,{padding:{blockstart:Q},margin:{blockstart:X}},a.createElement("div",{className:"roomPickerRoom","data-testid":"room-".concat(e.index+1)},e.config.withRooms&&a.createElement(p.UitkSpacing,{padding:{blockstart:"two"}},a.createElement("div",{ref:n,"data-testid":"room-header"},a.createElement(ee.UitkHeading,{size:7,tag:"h3","data-testid":"room-header-".concat(e.index),"aria-label":o(x,e.index+1,e.travelers.rooms.length),tabIndex:0},o(w,e.index+1)))),a.createElement(g.UitkStepInput,{label:o(G),incrementText:v,decrementText:k,description:o((null===(t=e.config)||void 0===t?void 0:t.adultsCaptionToken)||""),max:l(e.config.maxTravelersPerRoom,e.travelers.rooms[e.index],e.config.maxAdultsPerRoom,e.room.adults),min:e.config.minAdultsPerRoom,value:e.room.adults,onChange:(r=e.index,function(t){e.setTravelers({rooms:e.travelers.rooms.map((function(e,n){return n===r?te(te({},e),{adults:parseInt(t.target.value,10)}):e})),infantSeating:e.travelers.infantSeating}),c.trackEvent("".concat(u).concat(r,".adults"))}),className:"adultStepInput",id:"adult-input-".concat(e.index)}),a.createElement(g.UitkStepInput,{label:o(V),incrementText:T,decrementText:A,description:o(e.config.childrenCaptionToken),max:l(e.config.maxTravelersPerRoom,e.travelers.rooms[e.index],e.config.maxChildrenPerRoom,e.room.children.length),min:e.config.minChildrenPerRoom,value:e.room.children.length,onChange:function(t){return function(n){var a=parseInt(n.target.value,10)>e.travelers.rooms[t].children.length,r=e.config.withAges&&e.config.validateChildInfantValues?-1:e.config.minChildAge;e.setTravelers({rooms:e.travelers.rooms.map((function(e,n){return n===t?te(te({},e),{children:a?e.children.concat({age:r}):e.children.slice(0,-1)}):e})),infantSeating:e.travelers.infantSeating}),c.trackEvent("".concat(u).concat(t,".children"))}}(e.index),className:"childStepInput",id:"child-input-".concat(e.index)}),e.room.children&&e.room.children.length>0&&e.config.withAges&&a.createElement(E,{ageOptions:e.childAgeOptions,onChange:function(t,n){return function(a){var r=parseInt(a.target.value,10);e.setTravelers({rooms:e.travelers.rooms.map((function(e,a){return a===t?te(te({},e),{children:e.children.map((function(e,t){return t===n?{age:r}:e}))}):e})),infantSeating:e.travelers.infantSeating}),(0,i.liveAnnounce)(o(P,n+1,r),i.Level.POLITE)}},children:e.room.children,padding:{blockstart:"one",blockend:"three"},menuIndex:e.index,labelKey:y,id:"child-age-input"}),e.config.withInfants&&a.createElement(a.Fragment,null,a.createElement(g.UitkStepInput,{label:o(M),incrementText:O,decrementText:Y,description:o(e.config.infantsCaptionToken),max:e.config.maxInfantsPerRoom,min:e.config.minInfantsPerRoom,value:e.room.infants.length,onChange:function(t){return function(n){var a=parseInt(n.target.value,10)>e.travelers.rooms[t].infants.length,r=e.config.withAges&&e.config.validateChildInfantValues?-1:e.config.minInfantAge;e.setTravelers({rooms:e.travelers.rooms.map((function(e,n){return n===t?te(te({},e),{infants:a?e.infants.concat({age:r}):e.infants.slice(0,-1)}):e})),infantSeating:e.travelers.infantSeating}),c.trackEvent("".concat(u).concat(t,".infants"))}}(e.index),className:"childStepInput",id:"infant-input-".concat(e.index)}),e.config.withAges&&a.createElement(E,{ageOptions:e.infantAgeOptions,onChange:function(t,n){return function(a){var r=parseInt(a.target.value,10);e.setTravelers({rooms:e.travelers.rooms.map((function(e,a){return a===t?te(te({},e),{infants:e.infants.map((function(e,t){return t===n?{age:r}:e}))}):e})),infantSeating:e.travelers.infantSeating}),(0,i.liveAnnounce)(o(H,n+1,r),i.Level.POLITE)}},children:e.room.infants,padding:{blockstart:"one"},dataTestid:"infant-ages",menuIndex:e.index,labelKey:b,id:"infant-age-input"})),e.index>0&&a.createElement(p.UitkSpacing,{padding:{blockstart:"four"}},a.createElement(h.UitkLayoutFlex,{justifyContent:"end"},a.createElement(h.UitkLayoutFlexItem,null,a.createElement("div",{className:"removeRoomButton"},a.createElement(s.UitkTertiaryButton,{onClick:function(t){return function(){e.setTravelers({rooms:e.travelers.rooms.filter((function(e,n){return t!==n})),infantSeating:e.travelers.infantSeating}),(0,i.liveAnnounce)(o(R,""),i.Level.POLITE),e.setTotalRoomRefs(e.totalRoomRefs-1),c.trackEvent("".concat(u,"remove-room"))}}(e.index),"aria-label":o(I,e.index+1,e.travelers.rooms.length)},o(C))))))))})),ae=n(92413),re=n(89105),ie=n(23467),oe=n(35623),le=(0,o.inject)("analytics")((function(e){var t=[],n=[],r=(0,S.useLocalization)().formatText,o=function(e,t,n,a){for(var i=e;i<=t;i++){var o=i===e&&n?r(n):i.toString();a.push({value:i.toString(),name:o})}};o(e.config.minChildAge,e.config.maxChildAge,e.config.youngestChildAgeTextToken,t),o(e.config.minInfantAge,e.config.maxInfantAge,e.config.youngestInfantAgeTextToken,n);var l=(0,$.uY)(e.lobState.trackingEnabled,e.analytics,e.lobState.moduleName),c="guests.",g=(0,re.Y)(e.travelers),v=g.numOfChildren,E=g.numOfInfants,k=e.config.withRooms&&e.travelers.rooms.length<e.config.maxRooms,R=e.config.withInfants&&e.config.withFlight&&!!E,C=e.config.withFlight&&e.config.withAges&&(!!v||e.config.withInfants&&!!E),I=E&&E>1?Q:Y;return a.createElement(a.Fragment,null,a.createElement(p.UitkSpacing,{padding:{inline:"one",blockstart:"half",blockend:"twelve"}},a.createElement(ie.UitkScrollable,{direction:"vertical"},a.createElement("section",null,e.travelers.rooms.map((function(r,i){return a.createElement(ne,{setTravelers:e.setTravelers,travelers:e.travelers,key:i,index:i,room:r,config:e.config,roomRefs:e.roomRefs,totalRoomRefs:e.totalRoomRefs,setTotalRoomRefs:e.setTotalRoomRefs,childAgeOptions:t,infantAgeOptions:n,lobState:e.lobState})})),k&&a.createElement(h.UitkLayoutFlex,{justifyContent:"end"},a.createElement(h.UitkLayoutFlexItem,{className:"addRoomButton"},a.createElement(s.UitkTertiaryButton,{onClick:function(){e.setTravelers({rooms:e.travelers.rooms.concat({adults:1,children:[],infants:[]}),infantSeating:e.travelers.infantSeating}),(0,i.liveAnnounce)(r(T,e.travelers.rooms.length+1),i.Level.POLITE),e.setTotalRoomRefs(e.totalRoomRefs+1),l.trackEvent("".concat(c,"add-room"))},"data-testid":"add-room-button"},r(O)))),R&&a.createElement(p.UitkSpacing,{padding:{blockstart:"six"}},a.createElement("div",{className:"airlineChildSeating"},a.createElement(p.UitkSpacing,{padding:{blockend:"two"}},a.createElement(ee.UitkText,{size:300},r(I))),a.createElement(d.UitkRadioButtonGroup,{group:"InfantSeating",onChange:function(t){e.setTravelers({rooms:e.travelers.rooms,infantSeating:t.currentTarget.value})},selected:e.travelers.infantSeating},a.createElement(p.UitkSpacing,{padding:{inlineend:"six"}},a.createElement(d.UitkRadioButton,{id:"ChildOnLap",value:ae.J.ON_LAP},r(Z))),a.createElement(p.UitkSpacing,{padding:{inlineend:"six"}},a.createElement(d.UitkRadioButton,{id:"ChildInSeat",value:ae.J.IN_SEAT},r(X)))))),C&&a.createElement("div",null,a.createElement(m.UitkLink,{size:"small",className:"airlineAgeRules"},a.createElement("a",{href:"/p/info-main/h_fw_default?rhtx=HTX_FLTSRCH_RT#travs",id:"airline-age-rules",target:"_blank",rel:"noopener"},r(q),a.createElement(f.UitkIcon,{id:"airline-age-rules-opens-in-new",name:"open_in_new",title:"Opens in a new window"})))),a.createElement(p.UitkSpacing,{padding:{blockstart:"two",blockend:"six"}},a.createElement("div",null))))),a.createElement(oe.UitkLayoutPosition,{type:"sticky",position:{bottom:"zero"}},a.createElement(u.UitkScrim,{className:"guestsDoneBtn",type:u.UitkScrimType.BUTTON},a.createElement(s.UitkFloatingFullWidthButton,{onClick:function(){e.onSave(e.travelers)},size:s.UitkButtonSize.LARGE,isFullWidth:!0,"data-testid":"guests-done-button"},r(A)))))})),ce=n(83195),ue=n(19633),se=n(61007),de=function(){return de=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},de.apply(this,arguments)},me=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},fe=function(e){var t=[],n=e.onChange,r=e.lobState,i=e.setInputsRefs,o=r.validateTravelersField,l=r.validateInfantsPerTraveler,u=r.validateUnattendedInfantInLap,s=r.config,d=(0,S.useLocalization)().formatText,m=me(a.useState(0),2),f=m[0],h=m[1],g=me(a.useState((0,c.toJS)(e.travelers)),2),v=g[0],E=g[1],k=o(),T=r.hotelTravelersInvalidKey||r.nonHotelTravelersInvalidKey||"",R=!k&&""!==T,A=me(a.useState([]),2),O=A[0],C=A[1],I=e.config,y=I.invalidNumberOfInfantPerTravelerMessageToken,b=I.invalidUnattendedInfantOnLapMessageToken,w=I.maxBookableTravelers;return a.useEffect((function(){var e=t[t.length-1];if(e&&e.current){var n=e.current.firstElementChild;n&&n.focus()}}),[f]),a.useEffect((function(){T&&(l&&!l()&&T===y?C([s.travelers.minInfantPerTraveler,s.travelers.minAdultAge]):u&&!u()&&T===b?C([s.travelers.minAdultAge]):C([w])),(0,c.toJS)(e.travelers)!==v&&r instanceof se.Zb&&E(e.travelers)}),[R,T,e.travelers]),a.createElement("div",null,a.createElement(ue.Viewport,null,a.createElement(ue.ViewSmall,null,a.createElement(a.Fragment,null,R&&a.createElement(p.UitkSpacing,{padding:{inline:"one",blockstart:"two"}},a.createElement("div",null,a.createElement(p.UitkSpacing,{padding:{blockstart:"two"}},a.createElement(ce.m,{locHeadingToken:T,locHeadingArgs:O,focusOnError:!1,setInputsRefs:i})))))),a.createElement(ue.ViewLarge,null,a.createElement(p.UitkSpacing,{padding:{inline:"one",blockstart:"two"}},a.createElement("div",null,a.createElement(ee.UitkHeading,{tag:"h3",size:5},d(e.config.dialogTitleToken)),R&&a.createElement(p.UitkSpacing,{padding:{blockstart:"two"}},a.createElement(ce.m,{locHeadingToken:T,locHeadingArgs:O,focusOnError:!1,setInputsRefs:i})))))),a.createElement(le,de({},e,{roomRefs:t,totalRoomRefs:f,setTotalRoomRefs:h,travelers:v,setTravelers:function(e){E(e),n(e)}})))},he=(0,o.observer)((function(e){var t=e.travelers,n=e.onSave,r=e.onChange,i=e.config,o=e.lobState,l=e.setInputsRefs;return a.createElement(fe,{travelers:t,onSave:n,onChange:r,config:i,lobState:o,setInputsRefs:l})})),ge=n(70674),ve=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},pe=(0,o.inject)("context")((0,o.observer)((function(e){var t,n,r=e.hiddenInputType,i=e.flightSearch,o=e.hotwireFlightSearch,l=e.hotelSearch,c=e.hotwireHotelSearch,u=e.packageSearch,s=e.hotwirePackageSearch,d=e.cruiseSearch,m=e.thirdSearch,f=e.isApiCallEnabled,h=e.groundTransportSearch;switch(r){case ge.m.GROUND_TRANSPORT_SEARCH:return a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden",name:"adults",value:h.numOfAdults,"data-testid":"adults-input"}),h.numOfChildren>0&&a.createElement("input",{type:"hidden",name:"children",value:h.numOfChildren,"data-testid":"children-input"}),h.numOfInfants>0&&a.createElement("input",{type:"hidden",name:"infants",value:h.numOfInfants,"data-testid":"infants-input"}));case ge.m.FLIGHT_SEARCH:return a.createElement("input",{type:"hidden",name:"passengers",value:i,"data-testid":"passengers-input"});case ge.m.HOTWIRE_FLIGHT_SEARCH:return a.createElement("input",{type:"hidden",name:"noOfTickets",value:o,"data-testid":"noOfTickets-input"});case ge.m.HOTEL_SEARCH:return a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden",name:"rooms",value:l.rooms,"data-testid":"rooms-input"}),a.createElement("input",{type:"hidden",name:"adults",value:l.adults,"data-testid":"adults-input"}),l.children&&a.createElement("input",{type:"hidden",name:"children",value:l.children,"data-testid":"children-input"}));case ge.m.HOTWIRE_HOTEL_SEARCH:return a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden",name:"rooms",value:c.rooms,"data-testid":"rooms-input"}),a.createElement("input",{type:"hidden",name:"adults",value:c.adults,"data-testid":"adults-input"}),c.children&&a.createElement("input",{type:"hidden",name:"children",value:c.children,"data-testid":"children-input"}));case ge.m.PACKAGE_SEARCH:var g=[];try{for(var v=ve(Object.keys(u)),p=v.next();!p.done;p=v.next()){var S=p.value;g.push(a.createElement("input",{type:"hidden",name:S,key:S,value:u[S],"data-testid":"".concat(S,"-input")}))}}catch(k){t={error:k}}finally{try{p&&!p.done&&(n=v.return)&&n.call(v)}finally{if(t)throw t.error}}return a.createElement(a.Fragment,null,g);case ge.m.HOTWIRE_PACKAGE_SEARCH:return a.createElement(a.Fragment,null,Object.keys(s).map((function(e){return a.createElement("input",{type:"hidden",name:e,key:e,value:s[e],"data-testid":"".concat(e,"-input")})})));case ge.m.CRUISE_SEARCH:return a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden",name:"adultCount",value:d.numOfAdults,"data-testid":"cruise-adults-input"}),d.numOfChildren>0&&a.createElement("input",{type:"hidden",name:"childCount",value:d.numOfChildren,"data-testid":"cruise-children-input"}),d.numOfChildren>0&&a.createElement("input",{type:"hidden",name:"childAges",value:d.childAges,"data-testid":"cruise-childAges-input"}));case ge.m.THIRD_SEARCH:var E=[];return E.push(a.createElement("input",{type:"hidden",name:f?"adultCount":"adult",value:m.numOfAdults,"data-testid":"third-adult-input",key:"third-adult-input"})),m.numOfChildren>0&&(f?(E.push(a.createElement("input",{type:"hidden",name:"numChildren",value:m.numOfChildren,"data-testid":"third-child-input",key:"third-child-input"})),(m.childAges||"").split(",").forEach((function(e,t){E.push(a.createElement("input",{type:"hidden",name:"childAge",value:e,"data-testid":"third-child-".concat(t,"-input"),key:"third-child-".concat(t,"-input")}))}))):E.push(a.createElement("input",{type:"hidden",name:"child",value:m.childAges,"data-testid":"third-child-ages-input",key:"third-child-ages-input"}))),a.createElement(a.Fragment,null,E);default:return a.createElement(a.Fragment,null)}}))),Se=n(23824),Ee=n(14163),ke=n(78240),Te=n(58244),Re=n(7510),Ae=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},Oe=(0,o.inject)("analytics")((0,o.observer)((function(e){var t=e.triggerType,n=void 0===t?Se.Q.FAKE_INPUT:t,o=e.handleMenuTriggerState,c=e.lobState,u=e.onSave,s=e.setChange,d=e.isChanged,h=e.noRehydratationValues,g=e.config,v=e.metadata,p=e.travelers,E=e.tripLobType,T=e.analytics,R=e.isApiCallEnabled,A=a.useRef(null),O=a.useRef(null),C=Ae(a.useState(!1),2),I=C[0],y=C[1],b=Ae((0,r.useDialog)("travelers-dialog-".concat(c.config.elementId)),3),w=b[0],x=b[1],P=b[2],H=v.numOfAdults,_=v.numOfChildren,U=v.numOfInfants,L=v.flightSearch,z=v.hotwireFlightSearch,F=v.hotelSearch,N=v.hotwireHotelSearch,G=v.packageSearch,j=v.hotwirePackageSearch,B=v.cruiseSearch,D=v.groundTransportSearch,K=v.thirdSearch,W=g.withFlight,J=g.withRooms,V=g.withInfants,M=(null==h?void 0:h.numOfTravelers)&&!H?null==h?void 0:h.numOfTravelers:H+_+(V?U:0),Y=Ae(a.useState(!1),2),Q=Y[0],X=Y[1],Z=Ae(a.useState(null==h?void 0:h.name),2),q=Z[0],ee=Z[1],te=Ae(a.useState(!1),2),ne=te[0],ae=te[1],ie=Ae(a.useState("guests-hidden"),2),oe=ie[0],le=ie[1],ce=(0,re.c)(g,p.rooms,M),de=(0,S.useLocalization)().formatText,me=g.roomsGuestsToken,fe=g.travelersToken,ge=p.rooms.length,ve=g.withRooms?de(me,ge,M):de(fe,M),Oe=!(c instanceof se.Zb)||c.validateHotelPackage();a.useEffect((function(){var e;I&&O.current&&(null===(e=O.current)||void 0===e||e.focus(),y(!1),O.current=null),Oe||Q||(x.openDialog(),X(!0),y(!0))}));a.useEffect((function(){ee(void 0),le(""),ae(!0),d||function(){var e,t,n=c instanceof se.mU?1:2,a={rooms:[{adults:J&&W||E&&J||!J&&!W?2:n,children:[],infants:[]}],infantSeating:Ee.J.ON_LAP};g.withRooms?null===(e=c.updateHotelTravelersSelection)||void 0===e||e.call(c,a):null===(t=c.updateNonHotelTravelersSelection)||void 0===t||t.call(c,a)}(),o&&Q&&o(!1)}),[Q]);var Ce=function(e){e.preventDefault(),x.openDialog(),Pe.trackEvent(He+$.sF),X(!Q),(0,i.liveAnnounce)(de(k),i.Level.POLITE)},Ie=function(){return!c.validateTravelersField||c.validateTravelersField()},ye=function(){return X((function(e){return!Ie()&&e||!e}))},be=function(e){ye(),e.preventDefault(),Pe.trackEvent(He+$.sF),(0,i.liveAnnounce)(de(k),i.Level.POLITE)},we=function(){return a.createElement(ue.Viewport,null,a.createElement(ue.ViewSmall,null,a.createElement(l.UitkFakeInput,{icon:g.icon,className:oe,label:de(g.labelToken),"aria-label":ve,value:ce,name:q,"data-testid":"travelers-field-trigger",onClick:Ce,domRef:A})),a.createElement(ue.ViewLarge,null,a.createElement(l.UitkFakeInput,{icon:g.icon,className:oe,label:de(g.labelToken),"aria-label":ve,onClick:be,value:ce,name:q,"data-testid":"travelers-field-trigger",domRef:A})))},xe=function(){return a.createElement(m.UitkLink,{noWrap:!0},a.createElement("button",{type:"button","data-testid":"travelers-field",ref:A,"aria-label":ve},ce,a.createElement(f.UitkIcon,{name:"expand_more"})))},Pe=(0,$.uY)(c.trackingEnabled,T,c.moduleName),He="guests.",_e=c.config.elementId||"",Ue=_e.includes("flight")||_e.includes("hotel")?ke.PositionType.RIGHT:ke.PositionType.LEFT;return a.createElement(a.Fragment,null,a.createElement(Re.X,{showAdaptive:Q,dialogWrapper:function(e){return a.createElement(Te.UitkSheetTransition,{isVisible:w},a.createElement(P,null,e))},handleDialogClick:Ce,handleMenuClick:be,adaptiveTrigger:function(){return n===Se.Q.LINK_BUTTON?xe():we()},menuPosition:Ue,toolbar:{toolbarTitle:de(g.dialogTitleToken),navigationContent:{navIconLabel:de(g.dialogCancelLabelToken),onClick:function(){Ie()&&(A.current&&A.current.focus(),x.closeDialog(),Pe.trackEvent(He+$.t9)),ye()}}}},a.createElement(he,{travelers:p,config:g,onSave:function(e){Ie()&&(A.current&&A.current.focus(),u&&(s&&!d&&s(),u("SUBMIT",e)),w&&x.closeDialog(),Pe.trackEvent(He+$.T_)),ye()},onChange:function(e){return u("CHANGE",e)},lobState:c,setInputsRefs:function(e){O.current=e.current}})),ne&&a.createElement(pe,{hiddenInputType:g.hiddenInputType,flightSearch:L,hotwireFlightSearch:z,hotelSearch:F,hotwireHotelSearch:N,groundTransportSearch:D,packageSearch:G,hotwirePackageSearch:j,cruiseSearch:B,thirdSearch:K,isApiCallEnabled:R}))})))},14163:function(e,t,n){n.d(t,{J:function(){return r.J},m:function(){return a.m}});var a=n(70674),r=n(92413)},23824:function(e,t,n){var a;n.d(t,{Q:function(){return a}}),function(e){e.FAKE_INPUT="fake input",e.LINK_BUTTON="link button"}(a||(a={}))},89105:function(e,t,n){n.d(t,{Y:function(){return o},c:function(){return l}});var a=n(92413),r=n(29892),i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=function(e){var t,n,r,o,l,c,u=[],s=[],d=e.rooms.reduce((function(t,n,r){var o,l,c,d;t.numOfAdults+=n.adults,t.numOfChildren+=n.children.length,t.numOfInfants+=n.infants.length;var m=[],f=0;try{for(var h=i(n.children),g=h.next();!g.done;g=h.next()){var v=g.value;m.push(v.age),s.push("".concat(r+1,"_").concat(v.age)),f+=v.age>=12?1:0,t.packageSearch["childAges[".concat(r+1,"][").concat(m.length,"]")]=v.age,t.hotwirePackageSearch["childrenAgePerRoom".concat(r).concat(m.length-1)]=v.age}}catch(k){o={error:k}}finally{try{g&&!g.done&&(l=h.return)&&l.call(h)}finally{if(o)throw o.error}}t.travelersAgeTwelveOrOlder+=n.adults+f;try{for(var p=i(n.infants),S=p.next();!S.done;S=p.next()){var E=S.value;m.push(E.age),s.push("".concat(r+1,"_").concat(E.age)),t.packageSearch["childAges[".concat(r+1,"][").concat(m.length,"]")]=E.age,t.hotwirePackageSearch["childrenAgePerRoom".concat(r).concat(m.length-1)]=E.age}}catch(T){c={error:T}}finally{try{S&&!S.done&&(d=p.return)&&d.call(p)}finally{if(c)throw c.error}}return u.push(n.adults),t.packageSearch["adultsPerRoom[".concat(r+1,"]")]=n.adults,t.packageSearch["childrenPerRoom[".concat(r+1,"]")]=n.children.length+n.infants.length,t.flightSearch=function(e,t,n){var r=e.numOfAdults,i=e.numOfChildren,o=e.numOfInfants,l="";return l="children:".concat(i+o),l+=t.length?"[".concat(t.join(";"),"]"):"",l+=",adults:".concat(r),l+=",seniors:0",l+",infantinlap:".concat(n===a.J.ON_LAP?"Y":"N")}(t,m,e.infantSeating),t.hotwireFlightSearch=function(e){return e.numOfAdults+e.numOfChildren}(t),t.hotwirePackageSearch["numAdultsPerRoom".concat(r)]=n.adults,t.hotwirePackageSearch["numChildrenPerRoom".concat(r)]=n.children.length+n.infants.length,t.cruiseSearch=function(e,t){var n=e.numOfAdults,a=e.numOfChildren,r=e.cruiseSearch;return r.numOfAdults=n,r.numOfChildren=a,t.length&&(r.childAges=t.join(",")),r}(t,m),t.thirdSearch=function(e,t){var n=e.numOfAdults,a=e.numOfChildren,r=e.thirdSearch;return r.numOfAdults=n,r.numOfChildren=a,t.length&&(r.childAges=t.join(",")),r}(t,m),t.groundTransportSearch=function(e){var t=e.numOfAdults,n=e.numOfChildren,a=e.numOfInfants,r=e.groundTransportSearch;return r.numOfAdults=t,r.numOfChildren=n,r.numOfInfants=a,r}(t),t}),{numOfAdults:0,numOfChildren:0,numOfInfants:0,numOfRooms:0,travelersAgeTwelveOrOlder:0,flightSearch:"",hotwireFlightSearch:0,hotelSearch:{rooms:"0",adults:"0"},hotwireHotelSearch:{rooms:"0",adults:"0"},packageSearch:{numberOfRooms:"0",infantsInSeats:"0"},hotwirePackageSearch:{numberOfRooms:"0",infantsInSeats:"0"},cruiseSearch:{numOfAdults:1,numOfChildren:0},thirdSearch:{numOfAdults:1,numOfChildren:0},groundTransportSearch:{numOfAdults:1,numOfChildren:0,numOfInfants:0}});return d.numOfRooms=e.rooms.length,d.hotelSearch=function(e,t,n){var a=n.numOfRooms,r=n.hotelSearch;return r.rooms=a.toString(),r.adults=e.join(","),t.length&&(r.children=t.join(",")),r}(u,s,d),d.hotwireHotelSearch=(n=(t=d).numOfAdults,r=t.numOfChildren,o=t.numOfInfants,l=t.numOfRooms,(c=t.hotwireHotelSearch).rooms=l.toString(),c.adults=n.toString(),c.children=(r+o).toString(),c),d.packageSearch.numberOfRooms=d.numOfRooms.toString(),d.hotwirePackageSearch.noOfRooms=d.numOfRooms.toString(),d.packageSearch.infantsInSeats=e.infantSeating===a.J.IN_SEAT?"1":"0",d},l=function(e,t,n){var a=(0,r.useLocalization)().formatText,i=e.withRooms,o=e.roomsGuestsToken,l=e.travelersToken;return i?a(o,t.length,n):a(l,n)}}}]);
//# sourceMappingURL=shared~TravelersField.e82f498e88a20a8185c9.js.map