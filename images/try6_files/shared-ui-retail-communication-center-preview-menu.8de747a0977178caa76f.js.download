/*@license For license information please refer to shared-ui-retail-communication-center-preview-menu.licenses.txt*/
(self.webpackChunkblossom_flex_ui=self.webpackChunkblossom_flex_ui||[]).push([[93479],{56904:function(e,n,t){t.d(n,{g:function(){return Ge}});var i=t(67294),r=t(69430),a=t(66252),l=t(92787),o=t(95878),c=t(19633),u=t(98250),m=t(91618),s=t(23984),d=t(91233),v=t(10333),f=t(93351),E=t(30300),p=t(73359),y=t(64418),g=t(41419),b=t(13413),k=t(46605),C=t(37595),I=t(85213),h=t(29097),x=t(51330),w=t(8315),S=t(80463),N=t(20515),_=t(8470),A=t(5419),T=t(26847),O=t(511),P=t(71646),z=t(27749),F=t(52818),U=t(34778),L=t(95032),R=t(19719),B=t(70094);function M(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function D(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){D(e,n,t[n])}))}return e}function $(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function G(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,r,a=[],l=!0,o=!1;try{for(t=t.call(e);!(l=(i=t.next()).done)&&(a.push(i.value),!n||a.length!==n);l=!0);}catch(c){o=!0,r=c}finally{try{l||null==t.return||t.return()}finally{if(o)throw r}}return a}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return M(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return M(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function V(){var e=H(["\n  fragment IconFragment on Icon {\n    title\n    description\n    id\n    token\n  }\n"]);return V=function(){return e},e}function W(){var e=H(["\n  fragment TertiaryButtonFragment on CommunicationCenterButton {\n    button {\n      ... on UITertiaryButton {\n        __typename\n        primary\n        accessibility\n        icon {\n          ...IconFragment\n        }\n        analytics {\n          eventType\n          linkName\n          referrerId\n        }\n      }\n    }\n    action {\n      ... on UILinkAction {\n        resource {\n          value\n        }\n      }\n    }\n  }\n  ","\n"]);return W=function(){return e},e}function Y(){var e=H(["\n  fragment CommunicationCenterBannerFragment on CommunicationCenterBanner {\n    icon {\n      ...IconFragment\n    }\n    title\n    body\n    theme\n    action {\n      ...TertiaryButtonFragment\n    }\n  }\n\n  ","\n  ","\n"]);return Y=function(){return e},e}function q(){var e=H(["\n  fragment EGDSStylizedTextFragment on EGDSStylizedText {\n    size\n    text\n    weight\n  }\n"]);return q=function(){return e},e}function Q(){var e=H(["\n  fragment CommunicationCenterEmptyStateFragment on CommunicationCenterEmptyState {\n    __typename\n    title {\n      ...EGDSStylizedTextFragment\n    }\n    body {\n      ...EGDSStylizedTextFragment\n    }\n    image {\n      url\n      description\n    }\n    impressionAnalytics {\n      event\n      referrerId\n      linkName\n    }\n    emptyStateType\n    actions {\n      button {\n        ... on UIPrimaryButton {\n          __typename\n          primary\n          analytics {\n            linkName\n            referrerId\n          }\n        }\n      }\n      action {\n        ... on UILinkAction {\n          resource {\n            value\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return Q=function(){return e},e}function Z(){var e=H(["\n  fragment EGDSGraphicTextFragment on EGDSGraphicText {\n    graphic {\n      ...IconFragment\n    }\n    text\n  }\n  ","\n"]);return Z=function(){return e},e}function K(){var e=H(["\n  fragment NotificationsLinkFragment on EGDSStandardLink {\n    __typename\n    text\n    size\n    action {\n      resource {\n        value\n      }\n      analytics {\n        linkName\n        referrerId\n      }\n    }\n  }\n"]);return K=function(){return e},e}function X(){var e=H(["\n  fragment NotificationsItemFragment on CommunicationCenterNotificationCard {\n    __typename\n    cardId\n    title {\n      ...EGDSStylizedTextFragment\n    }\n    body {\n      ...EGDSStylizedTextFragment\n    }\n    type\n    icon {\n      ...IconFragment\n    }\n    links {\n      ...NotificationsLinkFragment\n    }\n    impressionAnalytics {\n      event\n      referrerId\n      linkName\n    }\n    revealActions {\n      referrerId\n      linkName\n      eventType\n    }\n    userActions {\n      __typename\n      icon {\n        id\n        description\n      }\n      type\n      text {\n        size\n        text\n        weight\n      }\n      revealActions {\n        referrerId\n        linkName\n        eventType\n      }\n    }\n    timeStamp {\n      ...EGDSStylizedTextFragment\n    }\n    state\n  }\n  ","\n  ","\n  ","\n"]);return X=function(){return e},e}function J(){var e=H(["\n  mutation UpdateNotificationsInMenuMutation(\n    $contextInput: ContextInput!\n    $notificationIds: [String!]!\n    $state: CommunicationCenterNotificationState!\n  ) {\n    updateNotificationsState(context: $contextInput, notificationIds: $notificationIds, state: $state) {\n      notificationId\n      operationStatus\n    }\n  }\n"]);return J=function(){return e},e}function ee(){var e=H(["\n  query CommunicationCenterPreviewQuery($context: ContextInput!, $optionalContext: OptionalContextInput) {\n    communicationCenterPreview(context: $context, optionalContext: $optionalContext) {\n      label {\n        ...EGDSStylizedTextFragment\n      }\n      notifications {\n        heading {\n          ...EGDSStylizedTextFragment\n        }\n        unseen\n        notifications {\n          ...NotificationsItemFragment\n        }\n        emptyState {\n          ...CommunicationCenterEmptyStateFragment\n        }\n        impressionAnalytics {\n          event\n          referrerId\n          linkName\n        }\n        clickToActionButton {\n          button {\n            ... on UIPrimaryButton {\n              primary\n              analytics {\n                linkName\n                referrerId\n              }\n            }\n          }\n          action {\n            ... on UILinkAction {\n              resource {\n                value\n              }\n            }\n          }\n        }\n        banner {\n          ...CommunicationCenterBannerFragment\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return ee=function(){return e},e}function ne(){var e=H(["\n  query CommunicationCenterPreviewMenuQuery($context: ContextInput!, $optionalContext: OptionalContextInput) {\n    communicationCenterEntryPoint(context: $context, optionalContext: $optionalContext) {\n      __typename\n      icon {\n        id\n        token\n        description\n      }\n      label\n      notificationUnseenCount\n      messageUnseenCount\n      defaultTab\n      clickAnalytics {\n        linkName\n        referrerId\n        eventType\n      }\n      impressionAnalytics {\n        event\n        referrerId\n        linkName\n      }\n    }\n  }\n"]);return ne=function(){return e},e}function te(){var e=H(["\n  query PreviewMenuGlobalHeaderQuery(\n    $context: ContextInput!\n    $viewSize: HeaderViewSize\n    $lineOfBusiness: GlobalNavigationLineOfBusiness\n    $layout: HeaderLayout\n    $marketing: HeaderMarketingInput\n    $minimal: Boolean = false\n    $theme: String\n  ) {\n    globalHeader(\n      context: $context\n      viewSize: $viewSize\n      lineOfBusiness: $lineOfBusiness\n      layout: $layout\n      marketing: $marketing\n      minimal: $minimal\n      theme: $theme\n    ) {\n      redDotState @client\n    }\n  }\n"]);return te=function(){return e},e}var ie,re=function(e){var n=(0,u.useClickTracker)(),t=e.unseen,r=e.unread,a=e.label,l=e.impressionAnalytics,o=e.clickAnalytics,c=e.clickAnalyticsForMessage,p=null==o?void 0:o.referrerId,y=null==o?void 0:o.linkName,g=null==c?void 0:c.referrerId,b=null==c?void 0:c.linkName,k=t+r>0,C=G(i.useState(k),2),I=C[0],h=C[1],x=null==l?void 0:l.referrerId,w=(null==l?void 0:l.linkName)||"";return i.createElement("a",{href:"/inbox/notifications"},i.createElement(f.l,{padding:{block:"three",inline:"six"}},i.createElement(v.M,{onClick:function(){h(!1),p&&y&&n(p,y,void 0,[]),g&&b&&n(g,b,void 0,[])}},i.createElement("button",{type:"button"},i.createElement(s.v,null,i.createElement(d.t,null,i.createElement(E.b,{size:300,theme:"standard"},a)),i.createElement(d.t,null,x&&i.createElement(u.IntersectionTracker,{referrerId:x,linkName:w},I&&i.createElement(m.k,{visible:!0}))))))))};re.displayName="sharedui-CommunicationCenterPreviewMenuLinkContent";var ae,le=(D(ie={},"BOLD","bold"),D(ie,"MEDIUM","medium"),D(ie,"REGULAR","regular"),ie),oe={100:100,200:200,300:300,400:400,500:500,600:600,700:700,800:800,900:900},ce=(D(ae={},"ONE_ONE",x.s.R1_1),D(ae,"FOUR_THREE",x.s.R4_3),D(ae,"SIXTEEN_NINE",x.s.R16_9),D(ae,"THREE_TWO",x.s.R3_2),D(ae,"THREE_FOUR",x.s.R3_4),D(ae,"TWENTY_ONE_NINE",x.s.R21_9),D(ae,"FOUR_ONE",x.s.R4_1),{error:"error",critical:"critical"}),ue=(0,r.Ps)(V()),me=function(e){var n=e.data,t=e.isIconOnly,r=e.onClick,a=n.id,l={name:a,id:a,title:n.title||a,description:n.description||a};if(t)return i.createElement(k.fR,$(j({},l),{size:k.eZ.MEDIUM}));return i.createElement(w.m,{tag:"a",href:"#",onClick:function(){r&&r()}},i.createElement(k.fR,j({},l)))};me.fragment=ue,me.displayName="Icon";var se=(0,r.Ps)(W(),me.fragment),de=function(e){var n=e.data,t=e.buttonSize,r=e.inverse,a=e.onClick,l=e.disabled,o=e.tag,c=n.button,m=n.action,s=(0,u.useClickTracker)(),d=j({href:null==m?void 0:m.resource.value,size:t,disabled:l,inverse:r,onClick:function(){if("UITertiaryButton"===(null==c?void 0:c.__typename)&&c.analytics){var e=c.analytics,n=e.referrerId,t=e.linkName;s(n,t)}null==a||a()},tag:o,target:o?"_blank":""},"UITertiaryButton"===(null==c?void 0:c.__typename)&&(null==c?void 0:c.accessibility)?{"aria-label":c.accessibility}:{});return i.createElement(i.Fragment,null,"UITertiaryButton"===(null==c?void 0:c.__typename)&&i.createElement(w.m,$(j({},d),{"data-stid":"tertiary-button"}),c.icon&&i.createElement(k.fR,{name:c.icon.id}),c.primary))};de.fragment=se,de.displayName="CommunicationCenterTertiaryButton";var ve=(0,r.Ps)(Y(),me.fragment,de.fragment),fe=function(e){var n=e.data,t=e.onBannerClick,r=e.onComponentMountCallback,a=e.isFlexLayout,l=n.action,o=n.body,u=n.icon,m=n.title,p=n.theme;(0,i.useEffect)((function(){r&&r()}),[]);var y=function(){t&&t()},x=function(){var e,n;return o?i.createElement(g.j,{theme:ce[p]},i.createElement(s.v,{direction:"column"},i.createElement(d.t,null,i.createElement(E.b,{weight:"bold"},m)),i.createElement(d.t,null,i.createElement(E.b,{weight:"regular"},o)))):i.createElement(g.j,{theme:ce[p]},i.createElement(s.v,{direction:"column"},i.createElement(d.t,null,i.createElement(E.b,{weight:"medium"},m)),i.createElement(d.t,null,i.createElement(f.l,{padding:{blockend:"one",blockstart:"two"}},i.createElement(v.M,{theme:"default"},"UITertiaryButton"===(null==l||null===(e=l.button)||void 0===e?void 0:e.__typename)&&i.createElement("a",{href:null==l||null===(n=l.action)||void 0===n?void 0:n.resource.value,onClick:y},null==l?void 0:l.button.primary))))))};if(a){var w,S,N=i.createElement(v.M,{theme:"default",inline:!0},"UITertiaryButton"===(null==l||null===(w=l.button)||void 0===w?void 0:w.__typename)&&i.createElement("a",{href:null==l||null===(S=l.action)||void 0===S?void 0:S.resource.value,onClick:y},null==l?void 0:l.button.primary));return o&&(N=i.createElement(E.b,{weight:"medium"},o)),i.createElement(i.Fragment,null,n&&i.createElement(g.j,{theme:ce[p]},i.createElement(s.v,{alignItems:"center",space:"four"},i.createElement(C._,null,i.createElement(k.fR,{name:u.id,description:u.description})),i.createElement(d.t,null,i.createElement("div",null,i.createElement(E.b,{weight:"bold"},m),N)))))}return i.createElement(i.Fragment,null,n&&i.createElement(c.Viewport,null,i.createElement(c.ViewSmall,null,x()),i.createElement(c.ViewMedium,null,x()),i.createElement(c.ViewLarge,null,function(){var e;return o?i.createElement(g.j,{theme:ce[p]},i.createElement(s.v,{alignItems:"center",space:"two"},i.createElement(d.t,null,i.createElement("div",null,i.createElement(k.fR,{name:u.id,spotlight:{theme:"standard",background:!1}}))),i.createElement(d.t,null,i.createElement("div",null,i.createElement(E.b,{weight:"bold"},m),i.createElement(E.b,{weight:"regular"},o))))):i.createElement(g.j,{theme:ce[p]},i.createElement(I.a,{columns:["min-content","max-content","max-content"],areas:["icon text action"],alignItems:"center",space:{column:"four"}},i.createElement(h.P,{area:"icon"},i.createElement(k.fR,{name:u.id,description:u.description})),i.createElement(h.P,{area:"text"},i.createElement(E.b,null,m)),i.createElement(h.P,{area:"action"},"UITertiaryButton"===(null==l||null===(e=l.button)||void 0===e?void 0:e.__typename)&&i.createElement(de,{buttonSize:b.xY.MEDIUM,data:l,onClick:y,inverse:!0}))))}())))};fe.displayName="CommunicationCenterBanner",fe.fragment=$(j({},ve),{__typename:"CommunicationCenterBanner"});var Ee=(0,r.Ps)(q());function pe(e,n){return e||(n?le[n]:void 0)}var ye=function(e){var n=e.spacing,t=e.overflow,r=e.weightOverride,a=e.align,l=e.theme,o=e.isStriked,c=e.data,u=e.ariaLabelText,m=c.size,s=c.text,d=c.weight,v={align:a,overflow:t,size:m?oe[m]:void 0,spacing:n,weight:pe(r,d),inline:o?"s":void 0,theme:l};return u?i.createElement(i.Fragment,null,i.createElement(E.b,{className:"is-visually-hidden"},u),i.createElement(E.b,$(j({},v),{"aria-hidden":"true"}),s)):i.createElement(E.b,j({},v),s)};ye.fragment=Ee,ye.displayName="EGDSStylizedText";var ge=(0,r.Ps)(Q(),ye.fragment),be=function(e){var n,t,r,a=e.data,l=a.title,o=a.body,c=a.image,m=a.actions,v=a.impressionAnalytics,E=a.emptyStateType,p=null==o?void 0:o[0],y=null==m||null===(n=m[0])||void 0===n?void 0:n.button,g=null==y?void 0:y.analytics,k=null==g?void 0:g.referrerId,C=null==g?void 0:g.linkName,I=null==v?void 0:v.referrerId,h=(null==v?void 0:v.linkName)||"",w=(0,u.useClickTracker)(),T=G(i.useState(null==m||null===(r=m[0])||void 0===r||null===(t=r.action)||void 0===t?void 0:t.resource.value),2),O=T[0],P=T[1];return i.useEffect((function(){var e,n;"SIGN_IN"===E&&P(function(e){var n="";if(null!==window.location){var t=window.location.pathname?window.location.pathname:"",i=window.location.search?window.location.search:"",r=window.location.hash?window.location.hash:"",a=t.concat(i,r);n="?&uurl=".concat(encodeURIComponent("e3id=redr&rurl=".concat(a)))}return e+n}(null==m||null===(n=m[0])||void 0===n||null===(e=n.action)||void 0===e?void 0:e.resource.value))}),[m,E]),i.createElement(i.Fragment,null,I&&i.createElement(u.IntersectionTracker,{referrerId:I,linkName:h},i.createElement(s.v,{alignItems:"center",justifyContent:"center",direction:"column",blockSize:"full_size"},i.createElement(N.U,{padded:!1},i.createElement(f.l,{padding:{inlinestart:"four",inlineend:"four",blockend:"sixteen"}},i.createElement("div",null,i.createElement(d.t,{alignSelf:"center",grow:1,maxWidth:300},i.createElement("section",null,i.createElement(x.N,{imageFit:"contain"},i.createElement(_.p,{alt:null==c?void 0:c.description,src:null==c?void 0:c.url})),i.createElement(f.l,{padding:{blockstart:"four",blockend:"four"}},i.createElement(A.y,{align:"center",tag:"h1",size:5},null==l?void 0:l.text)),i.createElement(f.l,{padding:{blockstart:"four",blockend:"six"}},i.createElement("div",null,i.createElement(ye,{data:p,align:"center"}))),(null==y?void 0:y.primary)&&i.createElement(S.t,{tag:"a",href:O,size:b.xY.LARGE,onClick:function(){k&&C&&w(k,C)}},null==y?void 0:y.primary)))))))))};be.fragment=ge,be.displayName="CommunicationCenterEmptyState";var ke=(0,r.Ps)(Z(),me.fragment),Ce=function(e){var n=e.data,t=e.theme,r=n.graphic,a=n.text;return i.createElement(i.Fragment,null,"Icon"===r.__typename&&i.createElement(f.l,{margin:{blockstart:"two"}},i.createElement(k.fR,{theme:t,name:r.id,description:r.description})),i.createElement(f.l,{margin:{blockstart:"three"}},i.createElement(E.b,{theme:t},a)))};Ce.fragment=ke,Ce.displayName="EGDSGraphicText";var Ie=function(e,n){var t=function(e){var t,i,r=null===(i=n.payload)||void 0===i||null===(t=i.notificationsList)||void 0===t?void 0:t.find((function(n){return n.cardId===e.cardId}));return null!=r},i=function(n){return e.notificationsList.map((function(e){return t(e)?$(j({},e),{state:n}):e}))};switch(n.action){case 0:return $(j({},e),{notificationsList:i("SEEN"),unseenCount:0});case 1:return $(j({},e),{notificationsList:i("READ"),unseenCount:0});case 2:return $(j({},e),{notificationsList:e.notificationsList.filter((function(e){return!t(e)})),unseenCount:0});default:return{notificationsList:[],unseenCount:0}}},he={notificationsList:[],unseenCount:0},xe=(0,i.createContext)({state:he}),we=function(e){var n=e.notificationsList,t=e.unseenCount,r=e.children,a=G((0,i.useReducer)(Ie,$(j({},he),{notificationsList:n,unseenCount:t})),2),l=a[0],o=a[1];return i.createElement(xe.Provider,{value:{state:l,dispatch:o}},r||null)},Se=function(){return i.useContext(xe)},Ne=(0,i.createContext)({mutation:function(){},error:void 0,loading:!1}),_e=function(e){var n=e.mutationFunction,t=e.children,r=G((0,P.D)(n),2),a=r[0],l=r[1],o=l.error,c=l.loading;return i.createElement(Ne.Provider,{value:(0,i.useMemo)((function(){return{mutation:a,error:o,loading:c}}),[a,o,c])},t||null)},Ae=function(){return(0,i.useContext)(Ne)},Te=(0,r.Ps)(K()),Oe=function(e){var n,t,r,a,l,c=e.notification,m=e.data,s=e.children,d=(null==m||null===(t=m.action)||void 0===t||null===(n=t.resource)||void 0===n?void 0:n.value)?null==m||null===(a=m.action)||void 0===a||null===(r=a.resource)||void 0===r?void 0:r.value:"#",v=null==m||null===(l=m.action)||void 0===l?void 0:l.analytics,f=null==v?void 0:v.referrerId,E=null==v?void 0:v.linkName,p=(0,u.useClickTracker)(),y=(0,o.v)().context,g=Ae().mutation,b=Se().dispatch,k=null==c?void 0:c.cardId,C=null==c?void 0:c.state;return i.createElement("a",{href:d,target:"_blank",rel:"noopener noreferrer",onClick:function(){f&&E&&p(f,E),"SEEN"===C&&(b({action:1,payload:{notificationsList:[c]}}),g({variables:{contextInput:y,notificationIds:[k],state:"READ"}}))}},s)};Oe.fragment=Te,Oe.displayName="NotificationsLink";var Pe=(0,r.Ps)(X(),me.fragment,ye.fragment,Oe.fragment),ze=function(e){var n,t,r,a,l,c,m,v,E,p,y,g,b,k,C,I,h,x,w,S=e.data,_=e.children,P=null==S||null===(n=S.impressionAnalytics)||void 0===n?void 0:n[0],z=null==P?void 0:P.referrerId,F=(null==P?void 0:P.linkName)||"",U=null==S||null===(r=S.links)||void 0===r||null===(t=r[0].action)||void 0===t?void 0:t.analytics,L=null==U?void 0:U.referrerId,R=null==U?void 0:U.linkName,B=null==S?void 0:S.cardId,M=null==S?void 0:S.state,D=(0,u.useClickTracker)(),j=(0,o.v)().context,$=Ae().mutation,G=Se().dispatch;return i.createElement(i.Fragment,null,z&&i.createElement(u.IntersectionTracker,{referrerId:z,linkName:F},i.createElement(s.v,null,i.createElement(d.t,{alignSelf:"start",grow:0},(null===(a=S.links)||void 0===a?void 0:a[0])&&i.createElement(Oe,{notification:S,data:null===(l=S.links)||void 0===l?void 0:l[0]},i.createElement(N.U,{padded:["blockstart","blockend","inlinestart"]},i.createElement(f.l,{margin:{blockstart:"two"}},i.createElement(T.x,{visible:"READ"!==S.state}))))),i.createElement(d.t,{alignSelf:"start",grow:0},(null===(c=S.links)||void 0===c?void 0:c[0])&&i.createElement(Oe,{notification:S,data:null===(m=S.links)||void 0===m?void 0:m[0]},i.createElement(N.U,{padded:["blockstart","blockend","inlinestart"]},S.icon&&i.createElement(me,{data:S.icon,isIconOnly:!0})))),i.createElement(d.t,{grow:1},i.createElement(N.U,{padded:["blockstart","blockend","inlinestart"]},i.createElement(O.o,null,i.createElement("a",{href:(null===(p=S.links)||void 0===p||null===(E=p[0].action)||void 0===E||null===(v=E.resource)||void 0===v?void 0:v.value)?null===(b=S.links)||void 0===b||null===(g=b[0].action)||void 0===g||null===(y=g.resource)||void 0===y?void 0:y.value:"#",target:"_blank",rel:"noopener noreferrer",onClick:function(){L&&R&&D(L,R),"SEEN"===M&&(G({action:1,payload:{notificationsList:[S]}}),$({variables:{contextInput:j,notificationIds:[B],state:"READ"}}))}},null===(k=S.title)||void 0===k?void 0:k.text)),(null===(C=S.title)||void 0===C?void 0:C.text)&&i.createElement(A.y,{tag:"h2",size:5},S.title.text),(null===(h=S.body)||void 0===h||null===(I=h[0])||void 0===I?void 0:I.text)&&i.createElement(f.l,{padding:{blockstart:"two"}},i.createElement("div",null,i.createElement(ye,{data:null===(x=S.body)||void 0===x?void 0:x[0],overflow:"truncate-3-lines",weightOverride:"READ"===S.state?"regular":"bold"}))),(null===(w=S.timeStamp)||void 0===w?void 0:w.text)&&i.createElement(f.l,{padding:{blockstart:"two"}},i.createElement("div",null,i.createElement(ye,{data:S.timeStamp}))))),i.createElement(d.t,null,i.createElement(N.U,{padded:["blockstart","blockend","inlineend"]},_)))))};ze.fragment=Pe,ze.displayName="NotificationsItem";var Fe=(0,r.Ps)(J()),Ue=function(e){var n,t,r,a,l,c=e.heading,m=e.emptyState,v=e.clickToActionButton,E=e.impressionAnalytics,p=(0,o.v)().context,y=(0,u.useClickTracker)(),g=null==E||null===(n=E[0])||void 0===n?void 0:n.referrerId,b=(null==E||null===(t=E[0])||void 0===t?void 0:t.linkName)||"",k=null==E||null===(r=E[1])||void 0===r?void 0:r.referrerId,C=(null==E||null===(a=E[1])||void 0===a?void 0:a.linkName)||"",I=null==v?void 0:v.button,h=null==I?void 0:I.analytics,x=null==h?void 0:h.referrerId,w=null==h?void 0:h.linkName,S=Se().state,_=Ae().mutation;return i.useEffect((function(){var e,n,t=(null===(e=S.notificationsList)||void 0===e?void 0:e.filter((function(e){return"UNSEEN"===e.state})))||[],i=(null==(n=t)?void 0:n.map((function(e){return e.cardId||""})).filter((function(e){return""!==e})))||[];t&&t.length>0&&_({variables:{contextInput:p,notificationIds:i,state:"SEEN"}})}),[S.notificationsList,p,_]),0===S.notificationsList.length?i.createElement(i.Fragment,null,i.createElement(N.U,{padded:!0,border:"bottom"},c&&i.createElement(A.y,{size:5,tag:"h1"},null==c?void 0:c.text)),i.createElement(f.l,{padding:{blockstart:"twelve"}},i.createElement("section",null,m&&i.createElement(be,{data:m})))):i.createElement(i.Fragment,null,g&&i.createElement(u.IntersectionTracker,{referrerId:g,linkName:b},i.createElement(N.U,{padded:!0,border:"bottom"},c&&i.createElement(A.y,{size:5,tag:"h1"},null==c?void 0:c.text)),i.createElement("section",null,null===(l=S.notificationsList)||void 0===l?void 0:l.map((function(e,n){return i.createElement("div",{key:"notifications-cell-".concat(n),"data-stid":"notifications-cell"},i.createElement(f.l,{padding:{block:"half",inlinestart:"one",inlineend:"half"}},i.createElement("div",null,i.createElement(ze,{data:e}))))}))),v&&I&&I.primary&&i.createElement(i.Fragment,null,k&&i.createElement(u.IntersectionTracker,{referrerId:k,linkName:C},i.createElement(z.O,{display:"block",position:{bottom:"zero"},type:"absolute",style:{width:"100%"}},i.createElement(N.U,{padded:!0,border:"top"},i.createElement(s.v,{justifyContent:"center"},i.createElement(d.t,null,i.createElement(B.Y,{tag:"a",href:"/inbox/notifications",onClick:function(){x&&w&&y(x,w)}},I.primary)))))))))};Ue.displayName="CommunicationCenterPreviewMenuContent";var Le=function(e){var n=e.data,t=e.errorBannerAction,r=n.notifications,a=null==r?void 0:r.heading,l=null==r?void 0:r.emptyState,o=null==r?void 0:r.clickToActionButton,c=null==r?void 0:r.notifications,u=null==r?void 0:r.impressionAnalytics,m=null==r?void 0:r.banner;return m?i.createElement(fe,{data:m,onBannerClick:function(){t&&t()},isFlexLayout:!0}):i.createElement(we,{notificationsList:c||[],unseenCount:0},i.createElement(_e,{mutationFunction:Fe},i.createElement(Ue,{heading:a,emptyState:l,clickToActionButton:o,impressionAnalytics:u})))};Le.displayName="sharedui-CommunicationCenterPreviewMenuContentWithContext";var Re=(0,r.Ps)(ee(),ye.fragment,be.fragment,ze.fragment,fe.fragment),Be=function(e){var n,t=(0,o.v)().context,r=(0,u.useClickTracker)(),a=e.unseen,l=e.unread,c=e.icon,v=e.impressionAnalytics,f=e.clickAnalytics,E=null==f?void 0:f.referrerId,g=null==f?void 0:f.linkName,C=G(i.useState(!1),2),I=C[0],h=C[1],x=a+l>0,S=G(i.useState(x),2),N=S[0],_=S[1],A=G(i.useState(!1),1)[0],T=null==v?void 0:v.referrerId,O=(null==v?void 0:v.linkName)||"",P=(0,y.useExperiment)("Shared_UI_Remove_Deprecated_UITK_Nav_Button").exposure.bucket>0,B=G((0,p.t)(Re,{variables:{context:t,optionalContext:{dropdownView:!0}},ssr:!1}),2),M=B[0],D=B[1],j=D.called,$=D.loading,H=D.data,V=D.error,W=D.refetch,Y=P?"uitk-button-only-icon":"uitk-button-only-icon global-navigation-nav-button";return i.createElement(d.t,{minWidth:"zero",grow:0},i.createElement(U.p,{isOpen:I,onTriggerClick:function(){h(!I),a<4&&_(!1),j||M({context:t}),!I&&E&&g&&r(E,g,void 0,[])},disableBodyClickHandler:A},i.createElement(L.H,null,i.createElement(w.m,{className:Y,size:b.xY.LARGE},i.createElement(z.O,{display:"inline-block",type:"relative"},i.createElement(k.fR,{name:c.id,size:k.eZ.LARGE,id:"".concat(c.id,"-icon"),title:null!==(n=c.description)&&void 0!==n?n:""}),i.createElement(z.O,{cloneElement:!0,position:{right:"zero",top:"zero"},type:"absolute"},i.createElement(z.O,{cloneElement:!0,position:{right:"zero",top:"zero"},type:"absolute"},T&&i.createElement(u.IntersectionTracker,{referrerId:T,linkName:O},N&&i.createElement(m.k,{visible:!0}))))))),i.createElement(R.a,{position:R.d.RIGHT,width:375,maxHeight:576},i.createElement("div",{style:{height:576},role:"menu"},($||V)&&i.createElement(s.v,{justifyContent:"center",alignItems:"center",direction:"column",blockSize:"full_size"},i.createElement(d.t,null,i.createElement(F.y,null))),!$&&!V&&H&&H.communicationCenterPreview&&i.createElement(Le,{data:H.communicationCenterPreview,errorBannerAction:W})))))};Be.displayName="sharedui-CommunicationCenterPreviewMenuContentWrapper";var Me=function(e){var n,t=(0,u.useClickTracker)(),r=e.unseen,a=e.unread,l=e.icon,o=e.impressionAnalytics,c=e.clickAnalytics,s=e.clickAnalyticsForMessage,d=null==c?void 0:c.referrerId,v=null==c?void 0:c.linkName,f=null==s?void 0:s.referrerId,E=null==s?void 0:s.linkName,p=r+a>0,g=G(i.useState(p),2),C=g[0],I=g[1],h=null==o?void 0:o.referrerId,x=(null==o?void 0:o.linkName)||"",S=(0,y.useExperiment)("Shared_UI_Remove_Deprecated_UITK_Nav_Button").exposure.bucket>0?"uitk-button-only-icon":"uitk-button-only-icon global-navigation-nav-button";return i.createElement("a",{href:"/inbox/notifications"},i.createElement(w.m,{className:S,size:b.xY.LARGE,onClick:function(){I(!1),d&&v&&t(d,v,void 0,[]),f&&E&&t(f,E,void 0,[])}},i.createElement(z.O,{display:"inline-block",type:"relative"},i.createElement(k.fR,{name:l.id,size:k.eZ.LARGE,id:"".concat(l.id,"-icon"),title:null!==(n=l.description)&&void 0!==n?n:""}),i.createElement(z.O,{cloneElement:!0,position:{right:"zero",top:"zero"},type:"absolute"},i.createElement(z.O,{cloneElement:!0,position:{right:"zero",top:"zero"},type:"absolute"},h&&i.createElement(u.IntersectionTracker,{referrerId:h,linkName:x},C&&i.createElement(m.k,{visible:!0})))))))};Me.displayName="CommunicationCenterPreviewMenuIconContent";var De=function(e){var n=e.unseen,t=e.unread,r=e.icon,a=e.impressionAnalytics,l=e.clickAnalytics,o=e.clickAnalyticsForMessage;return e.isPreviewMenuView?i.createElement(Be,{unseen:n||0,unread:t||0,icon:r,impressionAnalytics:a,clickAnalytics:l}):i.createElement(Me,{unseen:n||0,unread:t||0,icon:r,impressionAnalytics:a,clickAnalytics:l,clickAnalyticsForMessage:o})};De.displayName="CommunicationCenterPreviewMenuWrapper";var je=(0,r.Ps)(ne()),$e=(0,r.Ps)(te()),Ge=function(e){var n,t,r,u=e.inputs,m=e.skipSsr,s=e.isPreviewMenuView,d=void 0!==s&&s,v=e.messageCountEnabled,f=void 0!==v&&v,E=u.lineOfBusiness,p=u.viewSize,y=(0,o.v)().context,g=(0,a.x)(),b=$(j({},u),{context:y,optionalContext:{messageCountEnabled:f}}),k=(0,l.a)(je,{variables:b,ssr:m,onCompleted:function(e){var n,t,i,r,a;(null!==(r=null==e||null===(n=e.communicationCenterEntryPoint)||void 0===n?void 0:n.notificationUnseenCount)&&void 0!==r?r:0)+(null!==(a=null==e||null===(t=e.communicationCenterEntryPoint)||void 0===t?void 0:t.messageUnseenCount)&&void 0!==a?a:0)>0&&"AUTHENTICATED"===(null==y||null===(i=y.identity)||void 0===i?void 0:i.authState)&&g.writeQuery({query:$e,data:{globalHeader:{redDotState:"VISIBLE"}},variables:{context:y,viewSize:p,lineOfBusiness:E,minimal:!1,theme:null}})}}),C=k.data,I=k.error;if(k.loading||I||!C)return null;var h=null==C?void 0:C.communicationCenterEntryPoint,x=null==h?void 0:h.label,w=null==h?void 0:h.icon,S=null==h?void 0:h.notificationUnseenCount,N=null==h?void 0:h.messageUnseenCount,_=null==h||null===(n=h.impressionAnalytics)||void 0===n?void 0:n[0],A=null==h||null===(t=h.clickAnalytics)||void 0===t?void 0:t[0],T=null==h||null===(r=h.clickAnalytics)||void 0===r?void 0:r[1];return i.createElement(c.Viewport,null,i.createElement(c.ViewMedium,null,i.createElement(De,{isPreviewMenuView:d,unseen:S||0,unread:N||0,icon:w,impressionAnalytics:_,clickAnalytics:A,clickAnalyticsForMessage:T})),i.createElement(c.ViewSmall,null,i.createElement(re,{unseen:S||0,unread:N||0,label:x||"",impressionAnalytics:_,clickAnalytics:A,clickAnalyticsForMessage:T})))};Ge.displayName="sharedui-CommunicationCenterPreviewMenu"}}]);
//# sourceMappingURL=shared-ui-retail-communication-center-preview-menu.8de747a0977178caa76f.js.map